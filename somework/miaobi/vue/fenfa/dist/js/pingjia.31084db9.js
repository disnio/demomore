(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pingjia"],{4348:function(t,e,s){},5254:function(t,e,s){"use strict";var i=s("d559"),n=s.n(i);n.a},aa9a:function(t,e,s){"use strict";var i=s("4348"),n=s.n(i);n.a},d559:function(t,e,s){},f2d2:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shenhe-box pingjia1-box"},[i("van-nav-bar",{attrs:{title:"评价任务"+t.position+"/"+t.allCount,fixed:!0,"z-index":1e3,"left-text":"","left-arrow":""},on:{"click-left":t.toPrevPage}}),i("div",{staticClass:"zxjz-box"},[i("div",{staticClass:"home-title2"},[t._v("\n      原句\n      "),i("span",{staticClass:"fr"},[t._v(t._s(t.mainSentence.length)+"字")])]),i("div",{staticClass:"yuanju-text"},[t._v(t._s(t.mainSentence))])]),i("div",{staticClass:"zxjz-box gaixie-box"},[t._m(0),i("div",{staticClass:"yuanju-text gaixie-text"},[i("van-cell-group",[i("van-field",{attrs:{type:"textarea",readonly:"",placeholder:"在此输入改写后的句子",rows:"7"},on:{input:t.getLevenshtein},model:{value:t.childSentence,callback:function(e){t.childSentence=e},expression:"childSentence"}})],1)],1)]),i("div",{staticClass:"looklike-box"},[i("span",{staticClass:"looklike fr"},[t._v("相似度："+t._s(t.looklike)+"%")]),t.looklike>60?i("span",{staticClass:"looklike_ts fl"},[t._v("相似度大于60%，不计费。")]):t._e(),0==t.childSentence.trim().length?i("span",{staticClass:"looklike_ts fl"},[t._v("字数为0，不计费。")]):t._e()]),i("div",{staticClass:"tongshun"},[t._m(1),i("div",{staticClass:"pingfens"},[i("van-rate",{attrs:{count:10},model:{value:t.Smoothness,callback:function(e){t.Smoothness=e},expression:"Smoothness"}})],1),i("div",{staticClass:"pingfens",staticStyle:{width:"32px"}},[i("span",[t._v(t._s(t.Smoothness?t.Smoothness+"分":"0分"))])])]),i("div",{staticClass:"btn-box2"},[t.isFirst?t._e():i("button",{staticClass:"prev",attrs:{disabled:t.sub},on:{click:t.getPrev}},[t._v("上一个")]),i("button",{staticClass:"correct",attrs:{disabled:t.sub},on:{click:function(e){return t.getNext("正确")}}},[i("div",{staticClass:"icon"},[i("img",{directives:[{name:"show",rawName:"v-show",value:"正确"===t.tag,expression:"tag==='正确'"}],attrs:{src:s("e918"),alt:""}}),i("img",{directives:[{name:"show",rawName:"v-show",value:"正确"!==t.tag,expression:"tag!=='正确'"}],attrs:{src:s("a1d2"),alt:""}})]),i("p",{staticClass:"text"},[t._v("正确")])]),i("div",{staticClass:"w5"}),i("button",{staticClass:"mistake",attrs:{disabled:t.sub},on:{click:function(e){return t.getNext("错误")}}},[i("div",{staticClass:"icon"},[i("img",{directives:[{name:"show",rawName:"v-show",value:"错误"===t.tag,expression:"tag==='错误'"}],attrs:{src:s("0959"),alt:""}}),i("img",{directives:[{name:"show",rawName:"v-show",value:"错误"!==t.tag,expression:"tag!=='错误'"}],attrs:{src:s("f746"),alt:""}})]),i("p",{staticClass:"text"},[t._v("错误")])])]),i("over-task",{attrs:{"exit-task":t.exitTask},on:{"update:exitTask":function(e){t.exitTask=e},"update:exit-task":function(e){t.exitTask=e},notExit:t.notExit,yesExit:t.yesExit}})],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-title2"},[t._v("\n      改写\n      "),s("span",{staticClass:"fr"},[t._v("116字")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pingfens"},[s("span",[t._v("通顺度评分：")])])}],a=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),o=(s("4142"),s("39d1")),c=(s("8a58"),s("e41f")),l=(s("5246"),s("6b41")),r=(s("e7e5"),s("d399")),d=(s("0653"),s("34e9")),u=(s("be7f"),s("565f")),h=s("2b0e"),v=s("2f62"),m=s("8423"),f=s("33ea"),p=s("b775");s("c67a");function g(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)}return s}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?g(s,!0).forEach(function(e){Object(a["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):g(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}h["a"].use(u["a"]),h["a"].use(d["a"]),h["a"].use(r["a"]),h["a"].use(l["a"]),h["a"].use(c["a"]),h["a"].use(o["a"]);var k={name:"Pingjia",props:["rid"],data:function(){return{exitTask:!1,position:0,allCount:0,id:0,looklike:0,mainSentence:"",childSentence:"",isFirst:!0,isLast:!1,tag:"",Smoothness:0,doList:[],sub:!1}},mixins:[m["a"]],components:{"over-task":f["a"]},computed:b({},Object(v["c"])(["acceptedTasks"])),mounted:function(){this.getInit(),window.addEventListener("resize",function(){"INPUT"!=document.activeElement.tagName&&"TEXTAREA"!=document.activeElement.tagName||window.setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0)})},methods:b({getLevenshtein:function(t){var e=this,s=_.trim(t);""!=this.mainSentence&&""!=s?Object(p["a"])({url:"Helper/ComputedEditDistanceSimilarity",method:"post",data:{source:this.mainSentence,target:s}}).then(function(t){e.looklike=t.data<=0?0:(100*t.data).toFixed(0)}).catch(function(t){e.looklike=0}):this.looklike=0},getInit:function(){var t=this;this.saveAndGet({target:0,taskId:this.rid,data:{id:this.id,childSentence:this.childSentence,tag:"",smoothness:0}}).then(function(e){t.id=e.id,t.mainSentence=e.mainSentence,t.childSentence=e.childSentence,t.isFirst=e.isFirst,t.isLast=e.isLast,t.position=e.position,t.allCount=e.allCount,t.tag=e.tag,t.Smoothness=e.smoothness||0,t.looklike=0,t.doList=_.map(_.range(e.allCount),function(t){return!1}),t.getLevenshtein(e.childSentence||"")},function(t){Object(r["a"])("获取数据出错，请重试")})},getNext:function(t){var e=this;this.sub=!0,0!==this.Smoothness?(this.tag=t,_.delay(function(){e.saveAndGet({target:0,taskId:e.rid,data:{id:e.id,childSentence:e.childSentence,tag:t,smoothness:e.Smoothness}}).then(function(t){e.sub=!1,_.isNull(t)||(e.id=t.id,e.mainSentence=t.mainSentence,e.childSentence=t.childSentence,e.isFirst=t.isFirst,e.isLast=t.isLast,e.position=t.position,e.allCount=t.allCount,e.tag=t.tag,e.Smoothness=t.smoothness||0,e.getLevenshtein(t.childSentence||""),e.doList[t.allCount-2]&&!e.doList[t.allCount-1]?e.doList[t.allCount-1]=!0:e.doList[t.position-2]=!0,t.isLast&&e.doList[t.position-1]&&(e.sub=!0,e.submitTask({taskId:e.rid}).then(function(){e.sub=!1,Object(r["a"])("恭喜完成任务"),e.$router.push("/home")})))},function(t){e.sub=!1,Object(r["a"])("保存出错，请重试")})},400)):Object(r["a"])("请选择通顺度评分")},getPrev:function(t){var e=this;this.sub=!0,this.saveAndGet({target:-1,taskId:this.rid,data:{id:this.id,childSentence:this.childSentence,tag:this.tag,smoothness:this.Smoothness}}).then(function(t){e.sub=!1,e.id=t.id,e.mainSentence=t.mainSentence,e.childSentence=t.childSentence,e.isFirst=t.isFirst,e.isLast=t.isLast,e.position=t.position,e.allCount=t.allCount,e.tag=t.tag,e.Smoothness=t.smoothness||0,e.getLevenshtein(t.childSentence||"")},function(t){Object(r["a"])("出错，请重试")})}},Object(v["b"])(["saveAndGet","submitTask"]))},S=k,x=(s("aa9a"),s("5254"),s("2877")),C=Object(x["a"])(S,i,n,!1,null,"03686799",null);e["default"]=C.exports}}]);
//# sourceMappingURL=pingjia.31084db9.js.map