{"version":3,"sources":["webpack:///./src/views/Pingjia.vue?623b","webpack:///./src/views/Pingjia.vue?2c95","webpack:///./src/views/Pingjia.vue?e0bb","webpack:///src/views/Pingjia.vue","webpack:///./src/views/Pingjia.vue?4aca","webpack:///./src/views/Pingjia.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","position","allCount","on","toPrevPage","_v","_s","mainSentence","length","_m","getLevenshtein","model","value","callback","$$v","childSentence","expression","looklike","_e","trim","Smoothness","staticStyle","isFirst","sub","getPrev","$event","getNext","directives","name","rawName","tag","exitTask","notExit","yesExit","staticRenderFns","props","data","id","isLast","doList","mixins","exitPopup","components","computed","mounted","getInit","window","addEventListener","setTimeout","document","activeElement","scrollIntoViewIfNeeded","methods","vv","url","method","source","target","saveAndGet","taskId","rid","smoothness","_","delay","component"],"mappings":"gIAAA,yBAAme,EAAG,G,kCCAte,yBAAygB,EAAG,G,gECA5gB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAS,OAASP,EAAIQ,SAAW,IAAMR,EAAIS,SAAU,OAAQ,EAAK,UAAU,IAAK,YAAY,GAAG,aAAa,IAAIC,GAAG,CAAC,aAAaV,EAAIW,cAAcP,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIY,GAAG,sBAAsBR,EAAG,OAAO,CAACE,YAAY,MAAM,CAACN,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIc,aAAaC,QAAQ,SAASX,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIc,mBAAmBV,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACN,EAAIgB,GAAG,GAAGZ,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,iBAAiB,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAW,SAAW,GAAG,YAAc,aAAa,KAAO,KAAKG,GAAG,CAAC,MAAQV,EAAIiB,gBAAgBC,MAAM,CAACC,MAAOnB,EAAiB,cAAEoB,SAAS,SAAUC,GAAMrB,EAAIsB,cAAcD,GAAKE,WAAW,oBAAoB,IAAI,KAAKnB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,OAAO,CAACE,YAAY,eAAe,CAACN,EAAIY,GAAG,OAAOZ,EAAIa,GAAGb,EAAIwB,UAAU,OAAQxB,EAAIwB,SAAW,GAAIpB,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAG,mBAAmBZ,EAAIyB,KAAyC,GAAnCzB,EAAIsB,cAAcI,OAAOX,OAAaX,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACN,EAAIY,GAAG,eAAeZ,EAAIyB,OAAOrB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIgB,GAAG,GAAGZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,IAAIW,MAAM,CAACC,MAAOnB,EAAc,WAAEoB,SAAS,SAAUC,GAAMrB,EAAI2B,WAAWN,GAAKE,WAAW,iBAAiB,GAAGnB,EAAG,MAAM,CAACE,YAAY,WAAWsB,YAAY,CAAC,MAAQ,SAAS,CAACxB,EAAG,OAAO,CAACJ,EAAIY,GAAGZ,EAAIa,GAAGb,EAAI2B,WAAa3B,EAAI2B,WAAa,IAAM,aAAavB,EAAG,MAAM,CAACE,YAAY,YAAY,CAAGN,EAAI6B,QAA+G7B,EAAIyB,KAA1GrB,EAAG,SAAS,CAACE,YAAY,OAAOC,MAAM,CAAC,SAAWP,EAAI8B,KAAKpB,GAAG,CAAC,MAAQV,EAAI+B,UAAU,CAAC/B,EAAIY,GAAG,SAAkBR,EAAG,SAAS,CAACE,YAAY,UAAUC,MAAM,CAAC,SAAWP,EAAI8B,KAAKpB,GAAG,CAAC,MAAQ,SAASsB,GAAQ,OAAOhC,EAAIiC,QAAQ,SAAS,CAAC7B,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAAC8B,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASjB,MAAiB,OAAVnB,EAAIqC,IAAYd,WAAW,eAAehB,MAAM,CAAC,IAAM,EAAQ,QAAuB,IAAM,MAAMH,EAAG,MAAM,CAAC8B,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASjB,MAAiB,OAAVnB,EAAIqC,IAAYd,WAAW,eAAehB,MAAM,CAAC,IAAM,EAAQ,QAAsB,IAAM,QAAQH,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIY,GAAG,UAAUR,EAAG,MAAM,CAACE,YAAY,OAAOF,EAAG,SAAS,CAACE,YAAY,UAAUC,MAAM,CAAC,SAAWP,EAAI8B,KAAKpB,GAAG,CAAC,MAAQ,SAASsB,GAAQ,OAAOhC,EAAIiC,QAAQ,SAAS,CAAC7B,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAAC8B,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASjB,MAAiB,OAAVnB,EAAIqC,IAAYd,WAAW,eAAehB,MAAM,CAAC,IAAM,EAAQ,QAAsB,IAAM,MAAMH,EAAG,MAAM,CAAC8B,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASjB,MAAiB,OAAVnB,EAAIqC,IAAYd,WAAW,eAAehB,MAAM,CAAC,IAAM,EAAQ,QAAqB,IAAM,QAAQH,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIY,GAAG,YAAYR,EAAG,YAAY,CAACG,MAAM,CAAC,YAAYP,EAAIsC,UAAU5B,GAAG,CAAC,kBAAkB,SAASsB,GAAQhC,EAAIsC,SAASN,GAAQ,mBAAmB,SAASA,GAAQhC,EAAIsC,SAASN,GAAQ,QAAUhC,EAAIuC,QAAQ,QAAUvC,EAAIwC,YAAY,IACz/FC,EAAkB,CAAC,WAAa,IAAIzC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIY,GAAG,sBAAsBR,EAAG,OAAO,CAACE,YAAY,MAAM,CAACN,EAAIY,GAAG,aAAa,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,OAAO,CAACJ,EAAIY,GAAG,gB,wzBCkFvW,mBACA,mBACA,mBACA,mBACA,mBACA,mBAEA,OACEuB,KAAM,UACNO,MAAO,CAAC,OACRC,KAHF,WAII,MAAO,CACLL,UAAU,EACV9B,SAAU,EACVC,SAAU,EACVmC,GAAI,EACJpB,SAAU,EACVV,aAAc,GACdQ,cAAe,GACfO,SAAS,EACTgB,QAAQ,EACRR,IAAK,GACLV,WAAY,EACZmB,OAAQ,GACRhB,KAAK,IAGTiB,OAAQ,CAACC,EAAX,MACEC,WAAY,CACV,YAAa,EAAjB,MAEEC,SAAU,EAAZ,GACA,mCAEEC,QA3BF,WA4BIlD,KAAKmD,UAELC,OAAOC,iBAAiB,SAAU,WAEtC,yCACA,4CAEQD,OAAOE,WAAW,WAChBC,SAASC,cAAcC,0BACjC,MAMEC,QAAS,EAAX,CACI1C,eADJ,SACA,cACA,YAC+B,IAArBhB,KAAKa,cAA4B,IAAN8C,EAC7B,OAAR,OAAQ,CAAR,CACUC,IAAK,wCACLC,OAAQ,OACRnB,KAAM,CACJoB,OAAQ9D,KAAKa,aACbkD,OAAQJ,KAGpB,iBACU,EAAV,+CAEA,kBACU,EAAV,aAGQ3D,KAAKuB,SAAW,GAGpB4B,QAtBJ,WAsBA,WACMnD,KAAKgE,WAAW,CACdD,OAAQ,EACRE,OAAQjE,KAAKkE,IACbxB,KAAM,CACJC,GAAI3C,KAAK2C,GACTtB,cAAerB,KAAKqB,cACpBe,IAAK,GACL+B,WAAY,KAEtB,KACA,YACQ,EAAR,QACQ,EAAR,4BACQ,EAAR,8BACQ,EAAR,kBACQ,EAAR,gBACQ,EAAR,oBACQ,EAAR,oBACQ,EAAR,UACQ,EAAR,2BACQ,EAAR,WACQ,EAAR,6CACU,OAAV,IAEQ,EAAR,qCAEA,YACQ,eAAR,iBAIInC,QAtDJ,SAsDA,cACMhC,KAAK6B,KAAM,EACa,IAApB7B,KAAK0B,YAIT1B,KAAKoC,IAAMA,EACXgC,EAAEC,MAAM,WACN,EAAR,YACUN,OAAQ,EACRE,OAAQ,EAAlB,IACUvB,KAAM,CACJC,GAAI,EAAhB,GACYtB,cAAe,EAA3B,cACYe,IAAKA,EACL+B,WAAY,EAAxB,cAEA,KACA,YACU,EAAV,OACA,cACY,EAAZ,QACY,EAAZ,4BACY,EAAZ,8BACY,EAAZ,kBACY,EAAZ,gBACY,EAAZ,oBACY,EAAZ,oBACY,EAAZ,UACY,EAAZ,2BACY,EAAZ,oCAGA,yBACA,uBAEc,EAAd,wBAEc,EAAd,wBAGA,mCACc,EAAd,OACc,EAAd,YAAgB,OAAhB,wBACgB,EAAhB,OACgB,eAAhB,UACgB,EAAhB,2BAKA,YACU,EAAV,OACU,eAAV,eAGA,MArDQ,eAAR,aAuDIrC,QAhHJ,SAgHA,cACM9B,KAAK6B,KAAM,EACX7B,KAAKgE,WAAW,CACdD,QAAS,EACTE,OAAQjE,KAAKkE,IACbxB,KAAM,CACJC,GAAI3C,KAAK2C,GACTtB,cAAerB,KAAKqB,cACpBe,IAAKpC,KAAKoC,IACV+B,WAAYnE,KAAK0B,cAE3B,KACA,YACQ,EAAR,OACQ,EAAR,QACQ,EAAR,4BACQ,EAAR,8BACQ,EAAR,kBACQ,EAAR,gBACQ,EAAR,oBACQ,EAAR,oBACQ,EAAR,UACQ,EAAR,2BACQ,EAAR,qCAEA,YACQ,eAAR,cAIA,8CCnRiV,I,kCCS7U4C,EAAY,eACd,EACAxE,EACA0C,GACA,EACA,KACA,WACA,MAIa,aAAA8B,E","file":"js/pingjia.31084db9.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pingjia.vue?vue&type=style&index=1&id=03686799&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pingjia.vue?vue&type=style&index=1&id=03686799&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pingjia.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pingjia.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shenhe-box pingjia1-box\"},[_c('van-nav-bar',{attrs:{\"title\":(\"评价任务\" + _vm.position + \"/\" + _vm.allCount),\"fixed\":true,\"z-index\":1000,\"left-text\":\"\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.toPrevPage}}),_c('div',{staticClass:\"zxjz-box\"},[_c('div',{staticClass:\"home-title2\"},[_vm._v(\"\\n      原句\\n      \"),_c('span',{staticClass:\"fr\"},[_vm._v(_vm._s(_vm.mainSentence.length)+\"字\")])]),_c('div',{staticClass:\"yuanju-text\"},[_vm._v(_vm._s(_vm.mainSentence))])]),_c('div',{staticClass:\"zxjz-box gaixie-box\"},[_vm._m(0),_c('div',{staticClass:\"yuanju-text gaixie-text\"},[_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"textarea\",\"readonly\":\"\",\"placeholder\":\"在此输入改写后的句子\",\"rows\":\"7\"},on:{\"input\":_vm.getLevenshtein},model:{value:(_vm.childSentence),callback:function ($$v) {_vm.childSentence=$$v},expression:\"childSentence\"}})],1)],1)]),_c('div',{staticClass:\"looklike-box\"},[_c('span',{staticClass:\"looklike fr\"},[_vm._v(\"相似度：\"+_vm._s(_vm.looklike)+\"%\")]),(_vm.looklike > 60)?_c('span',{staticClass:\"looklike_ts fl\"},[_vm._v(\"相似度大于60%，不计费。\")]):_vm._e(),(_vm.childSentence.trim().length == 0)?_c('span',{staticClass:\"looklike_ts fl\"},[_vm._v(\"字数为0，不计费。\")]):_vm._e()]),_c('div',{staticClass:\"tongshun\"},[_vm._m(1),_c('div',{staticClass:\"pingfens\"},[_c('van-rate',{attrs:{\"count\":10},model:{value:(_vm.Smoothness),callback:function ($$v) {_vm.Smoothness=$$v},expression:\"Smoothness\"}})],1),_c('div',{staticClass:\"pingfens\",staticStyle:{\"width\":\"32px\"}},[_c('span',[_vm._v(_vm._s(_vm.Smoothness ? _vm.Smoothness + '分' : '0分'))])])]),_c('div',{staticClass:\"btn-box2\"},[(!_vm.isFirst)?_c('button',{staticClass:\"prev\",attrs:{\"disabled\":_vm.sub},on:{\"click\":_vm.getPrev}},[_vm._v(\"上一个\")]):_vm._e(),_c('button',{staticClass:\"correct\",attrs:{\"disabled\":_vm.sub},on:{\"click\":function($event){return _vm.getNext('正确')}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tag==='正确'),expression:\"tag==='正确'\"}],attrs:{\"src\":require(\"../assets/yes11.png\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tag!=='正确'),expression:\"tag!=='正确'\"}],attrs:{\"src\":require(\"../assets/yes1.png\"),\"alt\":\"\"}})]),_c('p',{staticClass:\"text\"},[_vm._v(\"正确\")])]),_c('div',{staticClass:\"w5\"}),_c('button',{staticClass:\"mistake\",attrs:{\"disabled\":_vm.sub},on:{\"click\":function($event){return _vm.getNext('错误')}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tag==='错误'),expression:\"tag==='错误'\"}],attrs:{\"src\":require(\"../assets/no11.png\"),\"alt\":\"\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tag!=='错误'),expression:\"tag!=='错误'\"}],attrs:{\"src\":require(\"../assets/no1.png\"),\"alt\":\"\"}})]),_c('p',{staticClass:\"text\"},[_vm._v(\"错误\")])])]),_c('over-task',{attrs:{\"exit-task\":_vm.exitTask},on:{\"update:exitTask\":function($event){_vm.exitTask=$event},\"update:exit-task\":function($event){_vm.exitTask=$event},\"notExit\":_vm.notExit,\"yesExit\":_vm.yesExit}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-title2\"},[_vm._v(\"\\n      改写\\n      \"),_c('span',{staticClass:\"fr\"},[_vm._v(\"116字\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pingfens\"},[_c('span',[_vm._v(\"通顺度评分：\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"shenhe-box pingjia1-box\">\r\n    <van-nav-bar\r\n      :title=\"`评价任务${position}/${allCount}`\"\r\n      :fixed=\"true\"\r\n      :z-index=\"1000\"\r\n      left-text\r\n      left-arrow\r\n      @click-left=\"toPrevPage\"\r\n    ></van-nav-bar>\r\n    <div class=\"zxjz-box\">\r\n      <div class=\"home-title2\">\r\n        原句\r\n        <span class=\"fr\">{{mainSentence.length}}字</span>\r\n      </div>\r\n      <div class=\"yuanju-text\">{{mainSentence}}</div>\r\n    </div>\r\n    <div class=\"zxjz-box gaixie-box\">\r\n      <div class=\"home-title2\">\r\n        改写\r\n        <span class=\"fr\">116字</span>\r\n      </div>\r\n      <div class=\"yuanju-text gaixie-text\">\r\n        <van-cell-group>\r\n          <van-field\r\n            v-model=\"childSentence\"\r\n            type=\"textarea\"\r\n            readonly\r\n            @input=\"getLevenshtein\"\r\n            placeholder=\"在此输入改写后的句子\"\r\n            rows=\"7\"\r\n          ></van-field>\r\n        </van-cell-group>\r\n      </div>\r\n    </div>\r\n    <div class=\"looklike-box\">\r\n      <span class=\"looklike fr\">相似度：{{looklike}}%</span>\r\n      <span v-if=\"looklike > 60\" class=\"looklike_ts fl\">相似度大于60%，不计费。</span>\r\n      <span v-if=\"childSentence.trim().length == 0\" class=\"looklike_ts fl\">字数为0，不计费。</span>\r\n    </div>\r\n    <div class=\"tongshun\">\r\n      <div class=\"pingfens\">\r\n        <span>通顺度评分：</span>\r\n      </div>\r\n      <div class=\"pingfens\">\r\n        <van-rate v-model=\"Smoothness\" :count=\"10\" />\r\n      </div>\r\n      <div class=\"pingfens\" style=\"width:32px\">\r\n        <span>{{Smoothness ? Smoothness + '分' : '0分' }}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"btn-box2\">\r\n      <button class=\"prev\" :disabled=\"sub\" @click=\"getPrev\" v-if=\"!isFirst\">上一个</button>\r\n      <button class=\"correct\" :disabled=\"sub\" @click=\"getNext('正确')\">\r\n        <div class=\"icon\">\r\n          <img src=\"../assets/yes11.png\" alt v-show=\"tag==='正确'\" />\r\n          <img src=\"../assets/yes1.png\" alt v-show=\"tag!=='正确'\" />\r\n        </div>\r\n        <p class=\"text\">正确</p>\r\n      </button>\r\n      <div class=\"w5\"></div>\r\n      <button class=\"mistake\" :disabled=\"sub\" @click=\"getNext('错误')\">\r\n        <div class=\"icon\">\r\n          <img src=\"../assets/no11.png\" alt v-show=\"tag==='错误'\" />\r\n          <img src=\"../assets/no1.png\" alt v-show=\"tag!=='错误'\" />\r\n        </div>\r\n        <p class=\"text\">错误</p>\r\n      </button>\r\n    </div>\r\n\r\n    <over-task :exit-task.sync=\"exitTask\" @notExit=\"notExit\" @yesExit=\"yesExit\"></over-task>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { mapActions, mapGetters } from 'vuex'\r\nimport { Field, CellGroup, Toast, NavBar, Popup, Rate } from 'vant'\r\nimport { exitPopupMixin } from '@/mixin/exitPopup'\r\nimport overTask from '@/components/over-task.vue'\r\nimport service from '@/utils/request'\r\n\r\nimport '@/scss/common.scss'\r\nVue.use(Field)\r\nVue.use(CellGroup)\r\nVue.use(Toast)\r\nVue.use(NavBar)\r\nVue.use(Popup)\r\nVue.use(Rate)\r\n\r\nexport default {\r\n  name: 'Pingjia',\r\n  props: ['rid'],\r\n  data() {\r\n    return {\r\n      exitTask: false,\r\n      position: 0,\r\n      allCount: 0,\r\n      id: 0,\r\n      looklike: 0,\r\n      mainSentence: '',\r\n      childSentence: '',\r\n      isFirst: true,\r\n      isLast: false,\r\n      tag: '',\r\n      Smoothness: 0,\r\n      doList: [],\r\n      sub: false\r\n    }\r\n  },\r\n  mixins: [exitPopupMixin],\r\n  components: {\r\n    'over-task': overTask\r\n  },\r\n  computed: {\r\n    ...mapGetters(['acceptedTasks'])\r\n  },\r\n  mounted() {\r\n    this.getInit()\r\n    // if (/Android/gi.test(navigator.userAgent)) {\r\n    window.addEventListener('resize', function() {\r\n      if (\r\n        document.activeElement.tagName == 'INPUT' ||\r\n        document.activeElement.tagName == 'TEXTAREA'\r\n      ) {\r\n        window.setTimeout(function() {\r\n          document.activeElement.scrollIntoViewIfNeeded()\r\n        }, 0)\r\n      }\r\n    })\r\n    // }\r\n  },\r\n\r\n  methods: {\r\n    getLevenshtein(v) {\r\n      let vv = _.trim(v)\r\n      if (this.mainSentence != '' && vv != '') {\r\n        service({\r\n          url: 'Helper/ComputedEditDistanceSimilarity',\r\n          method: 'post',\r\n          data: {\r\n            source: this.mainSentence,\r\n            target: vv\r\n          }\r\n        })\r\n          .then(res => {\r\n            this.looklike = res.data <= 0 ? 0 : (res.data * 100).toFixed(0)\r\n          })\r\n          .catch(err => {\r\n            this.looklike = 0\r\n          })\r\n      } else {\r\n        this.looklike = 0\r\n      }\r\n    },\r\n    getInit() {\r\n      this.saveAndGet({\r\n        target: 0,\r\n        taskId: this.rid,\r\n        data: {\r\n          id: this.id,\r\n          childSentence: this.childSentence,\r\n          tag: '',\r\n          smoothness: 0\r\n        }\r\n      }).then(\r\n        res => {\r\n          this.id = res.id\r\n          this.mainSentence = res.mainSentence\r\n          this.childSentence = res.childSentence\r\n          this.isFirst = res.isFirst\r\n          this.isLast = res.isLast\r\n          this.position = res.position\r\n          this.allCount = res.allCount\r\n          this.tag = res.tag\r\n          this.Smoothness = res.smoothness || 0\r\n          this.looklike = 0\r\n          this.doList = _.map(_.range(res.allCount), v => {\r\n            return false\r\n          })\r\n          this.getLevenshtein(res.childSentence || '')\r\n        },\r\n        err => {\r\n          Toast('获取数据出错，请重试')\r\n        }\r\n      )\r\n    },\r\n    getNext(tag) {\r\n      this.sub = true\r\n      if (this.Smoothness === 0) {\r\n        Toast('请选择通顺度评分')\r\n        return\r\n      }\r\n      this.tag = tag\r\n      _.delay(() => {\r\n        this.saveAndGet({\r\n          target: 0,\r\n          taskId: this.rid,\r\n          data: {\r\n            id: this.id,\r\n            childSentence: this.childSentence,\r\n            tag: tag,\r\n            smoothness: this.Smoothness\r\n          }\r\n        }).then(\r\n          res => {\r\n            this.sub = false\r\n            if (!_.isNull(res)) {\r\n              this.id = res.id\r\n              this.mainSentence = res.mainSentence\r\n              this.childSentence = res.childSentence\r\n              this.isFirst = res.isFirst\r\n              this.isLast = res.isLast\r\n              this.position = res.position\r\n              this.allCount = res.allCount\r\n              this.tag = res.tag\r\n              this.Smoothness = res.smoothness || 0\r\n              this.getLevenshtein(res.childSentence || '')\r\n\r\n              if (\r\n                this.doList[res.allCount - 2] &&\r\n                !this.doList[res.allCount - 1]\r\n              ) {\r\n                this.doList[res.allCount - 1] = true\r\n              } else {\r\n                this.doList[res.position - 2] = true\r\n              }\r\n\r\n              if (res.isLast && this.doList[res.position - 1]) {\r\n                this.sub = true\r\n                this.submitTask({ taskId: this.rid }).then(() => {\r\n                  this.sub = false\r\n                  Toast('恭喜完成任务')\r\n                  this.$router.push('/home')\r\n                })\r\n              }\r\n            }\r\n          },\r\n          err => {\r\n            this.sub = false\r\n            Toast('保存出错，请重试')\r\n          }\r\n        )\r\n      }, 400)\r\n    },\r\n    getPrev(tag) {\r\n      this.sub = true\r\n      this.saveAndGet({\r\n        target: -1,\r\n        taskId: this.rid,\r\n        data: {\r\n          id: this.id,\r\n          childSentence: this.childSentence,\r\n          tag: this.tag,\r\n          smoothness: this.Smoothness\r\n        }\r\n      }).then(\r\n        res => {\r\n          this.sub = false\r\n          this.id = res.id\r\n          this.mainSentence = res.mainSentence\r\n          this.childSentence = res.childSentence\r\n          this.isFirst = res.isFirst\r\n          this.isLast = res.isLast\r\n          this.position = res.position\r\n          this.allCount = res.allCount\r\n          this.tag = res.tag\r\n          this.Smoothness = res.smoothness || 0\r\n          this.getLevenshtein(res.childSentence || '')\r\n        },\r\n        err => {\r\n          Toast('出错，请重试')\r\n        }\r\n      )\r\n    },\r\n    ...mapActions(['saveAndGet', 'submitTask'])\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n.pingjia1-box {\r\n .looklike-box {\r\n    height: 20px;\r\n    margin: 10px 5px 20px;\r\n    width: 100%;\r\n    position: fixed;\r\n    padding: 0 20px;\r\n    top: 400px;\r\n  }\r\n\r\n  .looklike,\r\n  .looklike_ts {\r\n    text-align: right;\r\n    font-size: 14px;\r\n    color: rgba(75, 78, 95, 1);\r\n    margin: 5px 20px 20px;\r\n  }\r\n\r\n  .looklike_ts {\r\n    height: 20px;\r\n    margin-right: 30px;\r\n    color: red;\r\n  }\r\n}\r\n.tongshun {\r\n//   margin-top: 50px;\r\n   position: fixed;\r\n    top:440px;\r\n    left: 20px;\r\n  .pingfens {\r\n    display: inline-block;\r\n    height: 20px;\r\n    line-height: 20px;\r\n    font-size: 12px;\r\n  }\r\n  .pingfens {\r\n    height: 20px !important;\r\n  }\r\n  .van-rate__icon {\r\n    font-size: 18px !important;\r\n  }\r\n  .van-rate__item {\r\n    padding: 0 1px !important;\r\n  }\r\n}\r\n.btn-box2 {\r\n  width: 100%;\r\n  padding: 0 20px;\r\n  height: 68px;\r\n  margin: 15px 0 60px;\r\n   position: fixed;\r\n    top:450px;\r\n\r\n  .correct,\r\n  .mistake {\r\n    width: 35%;\r\n    height: 100%;\r\n    background: rgba(255, 255, 255, 1);\r\n    box-shadow: 0px 4px 20px 0px rgba(37, 48, 98, 0.15);\r\n    border-radius: 10px;\r\n    font-size: 16px;\r\n    color: #525254;\r\n  }\r\n\r\n  .w5 {\r\n    width: 5%;\r\n    height: 100%;\r\n    display: inline-block;\r\n  }\r\n\r\n  .prev {\r\n    height: 100%;\r\n    width: 25%;\r\n    font-size: 16px;\r\n    float: left;\r\n    color: #525254;\r\n  }\r\n\r\n  .icon {\r\n    width: 61px;\r\n    height: 100%;\r\n    margin: 4px 0 0 10px;\r\n    float: left;\r\n\r\n    img {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  .text {\r\n    width: 40px;\r\n    float: left;\r\n    height: 68px;\r\n    line-height: 68px;\r\n  }\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n.shenhe-box {\r\n  background: #fff !important;\r\n  height: 100vh;\r\n  width: 100vw;\r\n}\r\n\r\n.jz-box {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.zxjz-box {\r\n  width: 100%;\r\n  height: 140px;\r\n  /* padding: 10px 20px 20px; */\r\n  border-top: 1px solid transparent;\r\n  position: fixed;\r\n  top: 46px;\r\n}\r\n\r\n.gaixie-box {\r\n  /* margin-top: 0;\r\n  padding: 0 20px; */\r\n   position: fixed;\r\n    top: 180px;\r\n    width: 100%;\r\n}\r\n.gaixie-box .home-title2 {\r\n     padding: 0 20px;\r\n}\r\n\r\n.yuanju-text {\r\n  width: 100%;\r\n  height: 80px;\r\n  overflow-y: scroll;\r\n  padding: 0 0 20px;\r\n  text-align: left;\r\n  font-size: 16px;\r\n  color: #8c8b90;\r\n}\r\n\r\n.gaixie-text {\r\n  height: 175px;\r\n  padding: 0 20px 20px;\r\n  background: #f7f7fa !important;\r\n  resize: none;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pingjia.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pingjia.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pingjia.vue?vue&type=template&id=03686799&scoped=true&\"\nimport script from \"./Pingjia.vue?vue&type=script&lang=js&\"\nexport * from \"./Pingjia.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Pingjia.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./Pingjia.vue?vue&type=style&index=1&id=03686799&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03686799\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}