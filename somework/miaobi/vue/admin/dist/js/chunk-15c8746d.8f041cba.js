(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15c8746d"],{"0a49":function(e,t,r){var n=r("9b43"),i=r("626a"),o=r("4bf8"),a=r("9def"),l=r("cd1c");e.exports=function(e,t){var r=1==e,s=2==e,c=3==e,u=4==e,d=6==e,f=5==e||d,p=t||l;return function(t,l,h){for(var m,b,g=o(t),v=i(g),x=n(l,h,3),y=a(v.length),w=0,_=r?p(t,y):s?p(t,0):void 0;y>w;w++)if((f||w in v)&&(m=v[w],b=x(m,w,g),e))if(r)_[w]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:_.push(m)}else if(u)return!1;return d?-1:c||u?u:_}}},1169:function(e,t,r){var n=r("2d95");e.exports=Array.isArray||function(e){return"Array"==n(e)}},1599:function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=108)}({0:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a,l){var s,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(s=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=s):i&&(s=l?function(){i.call(this,this.$root.$options.shadowRoot)}:i),s)if(c.functional){c._injectStyles=s;var u=c.render;c.render=function(e,t){return s.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,s):[s]}return{exports:e,options:c}}r.d(t,"a",function(){return n})},108:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"el-checkbox-button",class:[e.size?"el-checkbox-button--"+e.size:"",{"is-disabled":e.isDisabled},{"is-checked":e.isChecked},{"is-focus":e.focus}],attrs:{role:"checkbox","aria-checked":e.isChecked,"aria-disabled":e.isDisabled}},[e.trueLabel||e.falseLabel?r("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e._q(e.model,e.trueLabel)},on:{change:[function(t){var r=e.model,n=t.target,i=n.checked?e.trueLabel:e.falseLabel;if(Array.isArray(r)){var o=null,a=e._i(r,o);n.checked?a<0&&(e.model=r.concat([o])):a>-1&&(e.model=r.slice(0,a).concat(r.slice(a+1)))}else e.model=i},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:e.name,disabled:e.isDisabled},domProps:{value:e.label,checked:Array.isArray(e.model)?e._i(e.model,e.label)>-1:e.model},on:{change:[function(t){var r=e.model,n=t.target,i=!!n.checked;if(Array.isArray(r)){var o=e.label,a=e._i(r,o);n.checked?a<0&&(e.model=r.concat([o])):a>-1&&(e.model=r.slice(0,a).concat(r.slice(a+1)))}else e.model=i},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}),e.$slots.default||e.label?r("span",{staticClass:"el-checkbox-button__inner",style:e.isChecked?e.activeStyle:null},[e._t("default",[e._v(e._s(e.label))])],2):e._e()])},i=[];n._withStripped=!0;var o=r(4),a=r.n(o),l={name:"ElCheckboxButton",mixins:[a.a],inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},props:{value:{},label:{},disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number]},computed:{model:{get:function(){return this._checkboxGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this._checkboxGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):void 0!==this.value?this.$emit("input",e):this.selfModel=e}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},_checkboxGroup:function(){var e=this.$parent;while(e){if("ElCheckboxGroup"===e.$options.componentName)return e;e=e.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},activeStyle:function(){return{backgroundColor:this._checkboxGroup.fill||"",borderColor:this._checkboxGroup.fill||"",color:this._checkboxGroup.textColor||"","box-shadow":"-1px 0 0 0 "+this._checkboxGroup.fill}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._checkboxGroup.checkboxGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isLimitDisabled:function(){var e=this._checkboxGroup,t=e.max,r=e.min;return!(!t&&!r)&&this.model.length>=t&&!this.isChecked||this.model.length<=r&&this.isChecked},isDisabled:function(){return this._checkboxGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled}},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t=this;if(!this.isLimitExceeded){var r=void 0;r=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",r,e),this.$nextTick(function(){t._checkboxGroup&&t.dispatch("ElCheckboxGroup","change",[t._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()}},s=l,c=r(0),u=Object(c["a"])(s,n,i,!1,null,null,null);u.options.__file="packages/checkbox/src/checkbox-button.vue";var d=u.exports;d.install=function(e){e.component(d.name,d)};t["default"]=d},4:function(e,t){e.exports=r("d010")}})},"386b":function(e,t,r){var n=r("5ca1"),i=r("79e5"),o=r("be13"),a=/"/g,l=function(e,t,r,n){var i=String(o(e)),l="<"+t;return""!==r&&(l+=" "+r+'="'+String(n).replace(a,"&quot;")+'"'),l+">"+i+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(l),n(n.P+n.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)}},"489d":function(e,t,r){},"560b":function(e,t,r){},"673e":function(e,t,r){"use strict";r("386b")("sub",function(e){return function(){return e(this,"sub","","")}})},"68bc":function(e,t,r){"use strict";var n=r("489d"),i=r.n(n);i.a},7514:function(e,t,r){"use strict";var n=r("5ca1"),i=r("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(o)},c526:function(e,t,r){},cd1c:function(e,t,r){var n=r("e853");e.exports=function(e,t){return new(n(e))(t)}},d4df:function(e,t,r){},e853:function(e,t,r){var n=r("d3f4"),i=r("1169"),o=r("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},f23b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"client-box"},[r("h1",[e._v("客户端管理")]),r("el-col",{attrs:{span:22,offset:1}},[r("el-row",{staticClass:"client-search"},[r("el-col",{attrs:{span:5}},[r("el-input",{attrs:{placeholder:"名称/显示名称","prefix-icon":"el-icon-search"},model:{value:e.Key,callback:function(t){e.Key=t},expression:"Key"}})],1),r("el-col",{attrs:{span:7,offset:1}},[r("span",[e._v("授权类型   ")]),r("el-select",{attrs:{placeholder:"全部"},model:{value:e.GrantTypeKey,callback:function(t){e.GrantTypeKey=t},expression:"GrantTypeKey"}},e._l(e.grantList,function(e){return r("el-option",{key:e.code,attrs:{label:e.showname,value:e.code}})}),1)],1),r("el-col",{attrs:{span:2,offset:1}},[r("el-button",{attrs:{type:"primary",size:"nomal"},on:{click:function(){return e.getClient()}}},[e._v("搜索")])],1),r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"primary",size:"nomal"},on:{click:function(t){return e.editClient(0)}}},[e._v("创建")])],1)],1),r("el-table",{staticClass:"client-table",staticStyle:{width:"100%"},attrs:{data:e.clientList}},[r("el-table-column",{attrs:{type:"index",index:e.tNo,label:"ID",width:"50"}}),r("el-table-column",{attrs:{prop:"clientid",label:"客户端Id",width:"100"}}),r("el-table-column",{attrs:{prop:"clientname",label:"显示名称",width:"100"}}),r("el-table-column",{attrs:{prop:"allowedgranttypes",label:"授权类型",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.allowedgranttypes,function(t,n){return r("div",{key:n},[e._v("\n                        "+e._s(t.grantname)+"\n                    ")])})}}])}),r("el-table-column",{attrs:{label:"重定向Url",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{class:{scrollBox:t.row.redirecturis.length>4}},e._l(t.row.redirecturis,function(t,n){return r("div",{key:n},[e._v("\n                            "+e._s(t)+"\n                        ")])}),0)]}}])}),r("el-table-column",{attrs:{label:"允许域"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{class:{scrollBox:t.row.allowedscopes.length>4}},e._l(t.row.allowedscopes,function(t,n){return r("div",{key:n},[e._v("\n                            "+e._s(t)+"\n                        ")])}),0)]}}])}),r("el-table-column",{attrs:{prop:"operation",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"btn-box"},[r("div",{staticClass:"edit-btn",on:{click:function(r){return e.editClient(1,t.row)}}},[e._v("编辑")]),r("div",{staticClass:"del-btn",on:{click:function(r){return e.delClient(t.row)}}},[e._v("删除")]),"client_credentials"==t.row.allowedgranttypes[0].granttype?r("div",{staticClass:"del-btn",staticStyle:{width:"40%"},on:{click:function(r){return e.resetSecret(t.row)}}},[e._v("重置Secret\n                        ")]):e._e()])]}}])})],1),r("el-pagination",{attrs:{background:"","current-page":e.Page,"page-sizes":[10,15,20],"page-size":e.Size,layout:"sizes, prev, pager, next",total:e.count},on:{"size-change":function(){return e.getClient()},"current-change":function(){return e.getClient()},"update:currentPage":function(t){e.Page=t},"update:current-page":function(t){e.Page=t},"update:pageSize":function(t){e.Size=t},"update:page-size":function(t){e.Size=t}}}),r("el-dialog",{attrs:{width:"60%",title:("1"==e.flagCM?"编辑":"新建")+"客户端","close-on-click-modal":!1,visible:e.dialogFormVisible},on:{close:e.resetForm,"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"客户端Id","label-width":e.formLabelWidth,prop:"clientid"}},[r("el-input",{attrs:{disabled:"1"==e.flagCM},model:{value:e.form.clientid,callback:function(t){e.$set(e.form,"clientid",t)},expression:"form.clientid"}})],1),r("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth,prop:"clientname"}},[r("el-input",{model:{value:e.form.clientname,callback:function(t){e.$set(e.form,"clientname",t)},expression:"form.clientname"}})],1),r("el-form-item",{attrs:{label:"授权类型","label-width":e.formLabelWidth,prop:"allowedgranttypes"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeGrantType},model:{value:e.form.allowedgranttypes,callback:function(t){e.$set(e.form,"allowedgranttypes",t)},expression:"form.allowedgranttypes"}},e._l(e.grantFormList,function(e){return r("el-option",{key:e.code,attrs:{label:e.showname,value:e.code}})}),1)],1),r("el-form-item",{attrs:{label:"scope","label-width":e.formLabelWidth,prop:"allowedscopes"}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.allowedscopes,callback:function(t){e.$set(e.form,"allowedscopes",t)},expression:"form.allowedscopes"}},e._l(e.scopeFormList,function(t){return r("el-option",{key:t.displayname,attrs:{label:t.name,value:t.name}},[r("span",{staticStyle:{float:"left","font-size":"12px"}},[e._v(e._s(t.name))]),r("span",{staticStyle:{float:"right",color:"#999","font-size":"12px",padding:"0 20px"}},[e._v(e._s(t.displayname))])])}),1)],1),e.hasRedirectUrl||"client_credentials"!==e.form.allowedgranttypes?r("div",[r("el-form-item",{attrs:{label:"重定向Url","label-width":e.formLabelWidth,prop:"redirecturisArr"}},[r("el-input",{attrs:{type:"textarea",rows:3,placeholder:"换行添加多个"},model:{value:e.form.redirecturisArr,callback:function(t){e.$set(e.form,"redirecturisArr",t)},expression:"form.redirecturisArr"}})],1),r("el-form-item",{attrs:{label:"注销重定向Url","label-width":e.formLabelWidth,prop:"postlogoutredirecturisArr"}},[r("el-input",{attrs:{type:"textarea",rows:3,placeholder:"换行添加多个"},model:{value:e.form.postlogoutredirecturisArr,callback:function(t){e.$set(e.form,"postlogoutredirecturisArr",t)},expression:"form.postlogoutredirecturisArr"}})],1),r("el-form-item",{attrs:{label:"允许跨域Url","label-width":e.formLabelWidth,prop:"allowedcorsoriginsArr"}},[r("el-input",{attrs:{type:"textarea",placeholder:"* 默认全部，换行添加多个",rows:3},model:{value:e.form.allowedcorsoriginsArr,callback:function(t){e.$set(e.form,"allowedcorsoriginsArr",t)},expression:"form.allowedcorsoriginsArr"}})],1)],1):e._e()],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.resetForm}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveClient}},[e._v("保 存")])],1)],1)],1)],1)},i=[],o=(r("673e"),r("7514"),r("96cf"),r("3b8d")),a=r("cebc"),l=(r("d4df"),r("450d"),r("7fc1")),s=r.n(l),c=(r("c526"),r("1599")),u=r.n(c),d=(r("560b"),r("dcdc")),f=r.n(d),p=(r("ae26"),r("845f")),h=r.n(p),m=(r("1951"),r("eedf")),b=r.n(m),g=(r("016f"),r("486c")),v=r.n(g),x=(r("6611"),r("e772")),y=r.n(x),w=(r("1f1a"),r("4e4b")),k=r.n(w),C=(r("e960"),r("b35b")),S=r.n(C),L=(r("eca7"),r("3787")),A=r.n(L),j=(r("425f"),r("4105")),G=r.n(j),O=(r("a7cc"),r("df33")),$=r.n(O),F=(r("672e"),r("101e")),z=r.n(F),T=(r("9d4c"),r("e450")),R=r.n(T),E=(r("10cb"),r("f3ad")),P=r.n(E),M=(r("5466"),r("ecdf")),K=r.n(M),U=(r("38a0"),r("ad41")),B=r.n(U),I=(r("f4f9"),r("c2cc")),N=r.n(I),q=(r("7a0f"),r("0f6c")),D=r.n(q),V=r("2b0e"),W=r("2f62"),J=r("5c0f"),X=r("8982");V["default"].use(D.a),V["default"].use(N.a),V["default"].use(B.a),V["default"].use(K.a),V["default"].use(P.a),V["default"].use(R.a),V["default"].use(z.a),V["default"].use($.a),V["default"].use(G.a),V["default"].use(A.a),V["default"].use(S.a),V["default"].use(k.a),V["default"].use(y.a),V["default"].use(v.a),V["default"].use(b.a),V["default"].use(h.a),V["default"].use(f.a),V["default"].use(u.a),V["default"].use(s.a);var H={name:"Client",props:["id"],data:function(){return{grantList:[{showname:"全部",code:-1}],clientList:[],grantFormList:[],scopeFormList:[],Page:1,Size:10,Key:"",GrantTypeKey:-1,count:0,dialogFormVisible:!1,form:{applicationid:this.id,clientid:"",clientname:"",allowedgranttypes:"",allowedscopes:[],redirecturisArr:"",redirecturis:[],postlogoutredirecturisArr:"",postlogoutredirecturis:[],allowedcorsoriginsArr:"",allowedcorsorigins:[]},formLabelWidth:"160px",flagCM:0,hasRedirectUrl:!1,rules:{clientid:[{required:!0,message:"请输入客户id",trigger:"blur"},{trigger:"blur",validator:J["f"]}],clientname:[{required:!0,message:"请输入名称",trigger:"blur"}],allowedgranttypes:[{required:!0,message:"请选择授权类型",trigger:"blur"}],allowedscopes:[{required:!0,message:"请选择域",trigger:"blur"}],redirecturisArr:[{required:!0,message:"请输入重定向地址",trigger:"blur"}],postlogoutredirecturisArr:[{required:!0,message:"请输入注销重定向地址",trigger:"blur"}],allowedcorsoriginsArr:[{required:!0,message:"请输入跨越地址",trigger:"blur"}]}}},computed:Object(a["a"])({},Object(W["c"])(["oidcUser"])),mounted:function(){this.getScope(),this.getClient(),this.getGrants()},methods:{tNo:function(e){return Object(J["d"])(e,this.Page,this.Size)},getClient:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=-1===this.GrantTypeKey?"":this.GrantTypeKey,e.next=4,Object(X["a"])({url:"application/"+this.id+"/searchclients",method:"get",params:{Page:this.Page,Size:this.Size,Key:this.Key,GrantTypeKey:t}});case 4:r=e.sent,this.count=r.count,this.clientList=_.map(r.data,function(e){return e.allowedscopesArr=_.map(e.allowedscopes,function(e){var t=_.find(n.scopeFormList,{name:e});if(t)return t.displayname}),e}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error("内部错误");case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}(),getGrants:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(X["a"])({url:"clients/getgrants",method:"get"});case 3:t=e.sent,this.grantList=[].concat([{showname:"全部",code:-1}],t.data),this.grantFormList=t.data,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error("内部错误");case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),getScope:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(X["a"])({url:"clients/"+this.oidcUser.id+"/getscopes",method:"get"});case 3:t=e.sent,this.scopeFormList=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("内部错误");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),saveClient:function(){var e=this;this.$refs["form"].validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=25;break}if(e.form.applicationid=e.id,e.form.CreateUserId=e.oidcUser.sub,e.form.allowedgranttype=e.form.allowedgranttypes,"client_credentials"!==e.form.allowedgranttype&&(e.form.redirecturis=Object(J["e"])(e.form.redirecturisArr),e.form.postlogoutredirecturis=Object(J["e"])(e.form.postlogoutredirecturisArr),e.form.allowedcorsorigins=Object(J["e"])(e.form.allowedcorsoriginsArr)),n="",t.prev=6,"0"!=e.flagCM){t.next=11;break}return t.next=10,Object(X["a"])({url:"application/"+e.id+"/createclient",method:"post",data:e.form});case 10:n=t.sent;case 11:if("1"!=e.flagCM){t.next=15;break}return t.next=14,Object(X["a"])({url:"application/"+e.id+"/updateclient",method:"post",data:e.form});case 14:n=t.sent;case 15:"client_credentials"===e.form.allowedgranttypes&&"0"==e.flagCM&&e.$alert("密码："+n.data.value,"密码提示",{confirmButtonText:"确定"}),e.dialogFormVisible=!1,e.getClient(),t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](6),console.error("内部错误");case 23:t.next=26;break;case 25:e.$message.error("请正确填写表单");case 26:case"end":return t.stop()}},t,null,[[6,20]])}));return function(e){return t.apply(this,arguments)}}())},editClient:function(e,t){this.flagCM=e,this.dialogFormVisible=!0,"1"==e&&(this.form=Object.assign({},t,{redirecturisArr:t.redirecturis.join("\n"),postlogoutredirecturisArr:t.postlogoutredirecturis.join("\n"),allowedcorsoriginsArr:t.allowedcorsorigins.join("\n"),allowedgranttypes:t.allowedgranttypes[0].granttype}))},delClient:function(e){var t=this;this.$confirm("删除该信息吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(X["a"])({url:"clients/"+e.id+"/delete",method:"post"});case 3:t.$message({type:"success",message:"删除成功"}),t.flagCM=0,t.getClient(),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.error("内部错误");case 11:case"end":return r.stop()}},r,null,[[0,8]])}))).catch(function(e){console.warn(e)})},resetForm:function(){this.$refs["form"].resetFields(),this.form={},this.dialogFormVisible=!1},changeGrantType:function(e){this.hasRedirectUrl="authorization_code"===e},resetSecret:function(e){var t=this,r=this;this.$confirm("请注意：重置Secret立即生效，所有使用旧Secret的接口将立即失效。为确保授权系统的正常使用，请尽快更新Secret信息。","重置Secret",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(X["a"])({url:"application/"+t.id+"/resetclientsecret",method:"post",data:{applicationid:t.id,id:e.id}});case 3:i=n.sent,r.$alert("Secret生效，请妥善保管："+i.data.value,"重置Secret",{confirmButtonText:"确定"}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),t.$message.error(n.t0.message);case 10:case"end":return n.stop()}},n,null,[[0,7]])}))).catch(function(e){console.log(e)})}}},Q=H,Y=(r("68bc"),r("2877")),Z=Object(Y["a"])(Q,n,i,!1,null,null,null);t["default"]=Z.exports}}]);