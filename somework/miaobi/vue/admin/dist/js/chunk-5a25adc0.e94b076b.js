(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a25adc0"],{"3e1f":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"role-box"},[r("h1",[e._v(" 用户管理 ")]),r("el-col",{attrs:{span:22,offset:1}},[r("el-row",{staticClass:"role-search"},[r("el-col",{attrs:{span:5}},[r("el-input",{attrs:{placeholder:"名称","prefix-icon":"el-icon-search"},model:{value:e.Key,callback:function(t){e.Key=t},expression:"Key"}})],1),r("el-col",{attrs:{span:2,offset:1}},[r("el-button",{attrs:{type:"primary",size:"nomal"},on:{click:e.getUsers}},[e._v("搜索")])],1),r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"primary",size:"nomal"},on:{click:function(t){return e.editUser(0)}}},[e._v("创建")])],1)],1),r("el-table",{staticClass:"client-table",staticStyle:{width:"100%"},attrs:{data:e.userList}},[r("el-table-column",{attrs:{type:"index",index:e.tNo,label:"ID",width:"80"}}),r("el-table-column",{attrs:{prop:"username",label:"用户名",width:"200"}}),r("el-table-column",{attrs:{prop:"name",label:"名称"}}),r("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{class:{"status-color2":!0,"status-color1":t.row.isactive}},[e._v("\n                        "+e._s(t.row.active)+"\n                    ")])]}}])}),r("el-table-column",{attrs:{prop:"operation",label:"操作",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"btn-box"},[r("div",{staticClass:"edit-btn",on:{click:function(r){return e.editUser(1,t.row)}}},[e._v("编辑")]),r("div",{staticClass:"del-btn",on:{click:function(r){return e.delUser(t.row)}}},[e._v("删除")]),r("div",{staticClass:"del-btn",on:{click:function(r){return e.resetPassword(t.row)}}},[e._v("重置密码")]),r("div",{staticClass:"del-btn",on:{click:function(r){return e.activeUser(t.row)}}},[e._v(e._s(t.row.isactive?"禁用":"启用"))])])]}}])})],1),r("el-pagination",{attrs:{background:"","current-page":e.Page,"page-sizes":[10,15,20],"page-size":e.Size,layout:"sizes, prev, pager, next",total:e.count},on:{"size-change":function(){return e.getUsers()},"current-change":function(){return e.getUsers()},"update:currentPage":function(t){e.Page=t},"update:current-page":function(t){e.Page=t},"update:pageSize":function(t){e.Size=t},"update:page-size":function(t){e.Size=t}}}),r("el-dialog",{attrs:{title:("1"==e.flagCM?"编辑":"新建")+"用户","close-on-click-modal":!1,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth,prop:"username"}},[r("el-input",{attrs:{autocomplete:"off",disabled:1===e.flagCM},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"姓名","label-width":e.formLabelWidth,prop:"name"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"手机号","label-width":e.formLabelWidth,prop:"phone"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),r("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth,prop:"email"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("el-form-item",{attrs:{label:"QQ","label-width":e.formLabelWidth,prop:"qq"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.qq,callback:function(t){e.$set(e.form,"qq",t)},expression:"form.qq"}})],1),r("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth,prop:"sex"}},[r("el-radio",{attrs:{label:"男"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[e._v("男")]),r("el-radio",{attrs:{label:"女"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[e._v("女")])],1),r("el-form-item",{attrs:{label:"公司","label-width":e.formLabelWidth,prop:"company"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.company,callback:function(t){e.$set(e.form,"company",t)},expression:"form.company"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.resetForm}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveUser}},[e._v("保 存")])],1)],1)],1)],1)},n=[],o=(r("96cf"),r("3b8d")),s=(r("b5d8"),r("450d"),r("f494")),i=r.n(s),l=(r("5e32"),r("6721")),u=r.n(l),c=(r("d4df"),r("7fc1")),d=r.n(c),f=(r("c526"),r("1599")),m=r.n(f),p=(r("560b"),r("dcdc")),b=r.n(p),h=(r("ae26"),r("845f")),v=r.n(h),g=(r("1951"),r("eedf")),x=r.n(g),w=(r("016f"),r("486c")),k=r.n(w),y=(r("6611"),r("e772")),$=r.n(y),C=(r("1f1a"),r("4e4b")),S=r.n(C),j=(r("e960"),r("b35b")),z=r.n(j),O=(r("eca7"),r("3787")),R=r.n(O),q=(r("425f"),r("4105")),U=r.n(q),F=(r("a7cc"),r("df33")),P=r.n(F),E=(r("672e"),r("101e")),G=r.n(E),T=(r("9d4c"),r("e450")),L=r.n(T),M=(r("10cb"),r("f3ad")),D=r.n(M),I=(r("5466"),r("ecdf")),N=r.n(I),V=(r("38a0"),r("ad41")),W=r.n(V),B=(r("f4f9"),r("c2cc")),K=r.n(B),J=(r("7a0f"),r("0f6c")),Q=r.n(J),X=r("2b0e"),A=r("5c0f"),H=r("8982");X["default"].use(Q.a),X["default"].use(K.a),X["default"].use(W.a),X["default"].use(N.a),X["default"].use(D.a),X["default"].use(L.a),X["default"].use(G.a),X["default"].use(P.a),X["default"].use(U.a),X["default"].use(R.a),X["default"].use(z.a),X["default"].use(S.a),X["default"].use($.a),X["default"].use(k.a),X["default"].use(x.a),X["default"].use(v.a),X["default"].use(b.a),X["default"].use(m.a),X["default"].use(d.a),X["default"].use(u.a),X["default"].use(i.a);var Y={name:"Role",data:function(){var e=function(e,t,r){null==t||t.length<3||!/@\w+\./.test(t.trim())?r(new Error("请输入正确邮箱地址")):r()};return{userList:[],gridData:[],dialogFormVisible:!1,form:{id:0,username:"",name:"",qq:"",phone:"",email:"",sex:"男",company:""},formLabelWidth:"120px",editId:-1,flagCM:0,Page:1,Size:10,Key:"",count:0,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],email:[{required:!0,trigger:"blur",validator:e}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],qq:[{required:!0,trigger:"blur",validator:A["g"]}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,max:11,message:"请输入正确的手机号",trigger:"blur"}]}}},mounted:function(){this.getUsers()},methods:{tNo:function(e){return Object(A["d"])(e,this.Page,this.Size)},getUsers:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(H["a"])({url:"users",method:"get",params:{Page:this.Page,Size:this.Size,Key:this.Key}});case 3:t=e.sent,this.count=t.count,this.userList=_.map(t.data,function(e){return e.isactive?e.active="正常":e.active="禁用",e}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error("内部错误");case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),saveUser:function(){var e=this;this.$refs["form"].validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=17;break}if(t.prev=1,"0"!=e.flagCM){t.next=5;break}return t.next=5,Object(H["a"])({url:"users",method:"post",data:e.form});case 5:if("1"!=e.flagCM){t.next=8;break}return t.next=8,Object(H["a"])({url:"users/"+e.form.id+"/update",method:"post",data:e.form});case 8:e.dialogFormVisible=!1,e.getUsers(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),console.error("内部错误");case 15:t.next=18;break;case 17:e.$message.error("请正确填写表单");case 18:case"end":return t.stop()}},t,null,[[1,12]])}));return function(e){return t.apply(this,arguments)}}())},editUser:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,r){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.flagCM=t,this.dialogFormVisible=!0,"1"!=t){e.next=15;break}return e.prev=3,e.next=6,Object(H["a"])({url:"users/"+r.id,method:"get"});case 6:a=e.sent,this.form=a.data,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),console.error("内部错误");case 13:e.next=16;break;case 15:this.form={username:"",name:"",qq:"",phone:"",email:"",sex:"男",company:""};case 16:case"end":return e.stop()}},e,this,[[3,10]])}));function t(t,r){return e.apply(this,arguments)}return t}(),delUser:function(e){var t=this;this.$confirm("删除该用户吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(H["a"])({url:"users/"+e.id+"/delete",method:"post"});case 3:t.$message({type:"success",message:"删除成功"}),t.flagCM=0,t.getUsers(),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.error("内部错误");case 11:case"end":return r.stop()}},r,null,[[0,8]])}))).catch(function(e){console.log(e)})},resetForm:function(){this.$refs["form"].resetFields(),this.dialogFormVisible=!1},resetPassword:function(e){var t=this;this.$confirm("是否确认重置密码？","重置密码",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark(function r(){var a;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(H["a"])({url:"users/resetpassword",method:"post",data:{userid:e.id}});case 3:a=r.sent,t.$alert("请妥善保管以下密码："+a.data,"重置密码",{confirmButtonText:"确定"}),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),console.error("内部错误");case 10:case"end":return r.stop()}},r,null,[[0,7]])}))).catch(function(e){console.log(e)})},activeUser:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=!0,t.isactive&&(r=!1),e.next=4,Object(H["a"])({url:"users/updateuseractive",method:"post",data:{userid:t.id,enable:r}});case 4:a=e.sent,this.getUsers(),this.$message(a.message);case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},Z=Y,ee=(r("513e"),r("2877")),te=Object(ee["a"])(Z,a,n,!1,null,null,null);t["default"]=te.exports},"513e":function(e,t,r){"use strict";var a=r("d35e"),n=r.n(a);n.a},b5d8:function(e,t,r){},d35e:function(e,t,r){},f494:function(e,t,r){e.exports=function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=96)}({0:function(e,t,r){"use strict";function a(e,t,r,a,n,o,s,i){var l,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=r,u._compiled=!0),a&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=l):n&&(l=i?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}r.d(t,"a",function(){return a})},4:function(e,t){e.exports=r("d010")},96:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"el-radio",class:[e.border&&e.radioSize?"el-radio--"+e.radioSize:"",{"is-disabled":e.isDisabled},{"is-focus":e.focus},{"is-bordered":e.border},{"is-checked":e.model===e.label}],attrs:{role:"radio","aria-checked":e.model===e.label,"aria-disabled":e.isDisabled,tabindex:e.tabIndex},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.stopPropagation(),t.preventDefault(),e.model=e.isDisabled?e.model:e.label}}},[r("span",{staticClass:"el-radio__input",class:{"is-disabled":e.isDisabled,"is-checked":e.model===e.label}},[r("span",{staticClass:"el-radio__inner"}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:e.name,disabled:e.isDisabled,tabindex:"-1"},domProps:{value:e.label,checked:e._q(e.model,e.label)},on:{focus:function(t){e.focus=!0},blur:function(t){e.focus=!1},change:[function(t){e.model=e.label},e.handleChange]}})]),r("span",{staticClass:"el-radio__label",on:{keydown:function(e){e.stopPropagation()}}},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2)])},n=[];a._withStripped=!0;var o=r(4),s=r.n(o),i={name:"ElRadio",mixins:[s.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){var e=this.$parent;while(e){if("ElRadioGroup"===e.$options.componentName)return this._radioGroup=e,!0;e=e.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(e){this.isGroup?this.dispatch("ElRadioGroup","input",[e]):this.$emit("input",e),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||e},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var e=this;this.$nextTick(function(){e.$emit("change",e.model),e.isGroup&&e.dispatch("ElRadioGroup","handleChange",e.model)})}}},l=i,u=r(0),c=Object(u["a"])(l,a,n,!1,null,null,null);c.options.__file="packages/radio/src/radio.vue";var d=c.exports;d.install=function(e){e.component(d.name,d)};t["default"]=d}})}}]);