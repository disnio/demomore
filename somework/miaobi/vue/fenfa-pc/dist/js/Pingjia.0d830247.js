(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Pingjia"],{2051:function(t,e,s){"use strict";var n=s("f2b9"),i=s.n(n);i.a},c6a0:function(t,e,s){},ef4b:function(t,e,s){"use strict";var n=s("c6a0"),i=s.n(n);i.a},f0c9:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shenhe-box pingjia-box"},[s("el-row",[s("el-row",[s("el-col",{staticClass:"shenhe-title",attrs:{span:5,offset:2}},[s("div",[t._v("评价任务"+t._s(t.position)+"/"+t._s(t.allCount))])]),s("el-col",{staticStyle:{"text-aling":"right"},attrs:{span:15}},[s("div",{staticClass:"btn-box"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"},{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading_box"},[t._v("正在提交...")]),t.isFirst?t._e():s("button",{staticClass:"prev",attrs:{disabled:t.sub},on:{click:t.getPrev}},[t._v("上一个")]),s("button",{staticClass:"next",attrs:{disabled:t.sub},on:{click:function(e){return t.getNext("正确")}}},[t._v("正确")]),s("button",{staticClass:"next",attrs:{disabled:t.sub},on:{click:function(e){return t.getNext("错误")}}},[t._v("错误")])])])],1),s("el-col",{staticClass:"shenhe-content",attrs:{span:20,offset:2}},[1===t.taskType?s("el-row",[s("el-col",{attrs:{span:12}},[s("div",{staticClass:"zxjz-box"},[s("div",{staticClass:"home-title2"},[t._v("\n                            原句\n                            "),s("span",{staticClass:"fr"},[t._v(t._s(t.mainSentence.length)+"字")])]),s("div",{staticClass:"yuanju-text yuanjupc-text"},[t._v(t._s(t.mainSentence))])])]),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"zxjz-box"},[s("div",{staticClass:"home-title2"},[t._v("\n                            改写\n                            "),s("span",{staticClass:"fr"},[t._v(t._s(t.childSentence.length)+"字")])]),s("div",{staticClass:"yuanju-text yuanjupc-text"},[t._v(t._s(t.childSentence))])]),s("div",[s("span",{staticClass:"looklike fr"},[t._v("相似度："+t._s(t.looklike)+"%")]),t.looklike>60?s("span",{staticClass:"looklike_ts fl"},[t._v("相似度大于60%，不计费。")]):t._e(),0==t.childSentence.trim().length?s("span",{staticClass:"looklike_ts fl"},[t._v("字数为0，不计费。")]):t._e()])])],1):t._e(),s("el-row",{staticClass:"tongshun"},[s("el-col",{attrs:{span:13,offset:8}},[s("span",{staticStyle:{"line-height":"20px"}},[t._v("通顺度评分：")]),s("div",{staticStyle:{display:"inline-block"}},[s("el-rate",{staticStyle:{display:"inline-block"},attrs:{max:10,texts:t.SmoothnessList,"show-text":""},model:{value:t.Smoothness,callback:function(e){t.Smoothness=e},expression:"Smoothness"}})],1)])],1)],1)],1)],1)},i=[],a=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),o=(s("be4f"),s("450d"),s("896a")),c=s.n(o),l=(s("78a7"),s("33ca")),d=s.n(l),r=(s("016f"),s("486c")),u=s.n(r),h=(s("6611"),s("e772")),f=s.n(h),m=(s("1f1a"),s("4e4b")),g=s.n(m),p=(s("b5d8"),s("f494")),v=s.n(p),b=(s("7a0f"),s("0f6c")),S=s.n(b),k=(s("f4f9"),s("c2cc")),C=s.n(k),x=s("2b0e"),y=s("2f62"),w=s("b775");s("c67a");function L(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)}return s}function j(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?L(s,!0).forEach(function(e){Object(a["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):L(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}x["default"].use(C.a),x["default"].use(S.a),x["default"].use(v.a),x["default"].use(g.a),x["default"].use(f.a),x["default"].use(u.a),x["default"].use(d.a),x["default"].use(c.a);var O={name:"Pingjia",props:["rid"],data:function(){return{exitTask:!1,position:0,allCount:0,id:0,mainSentence:"",childSentence:"",isFirst:!0,isLast:!1,tag:"",SemanticsChanged:"",SmoothnessList:["1分","2分","3分","4分","5分","6分","7分","8分","9分","10分"],looklike:0,Smoothness:0,taskType:0,over:!1,doList:[],fullscreenLoading:!1,sub:!1,loading:!1}},beforeRouteLeave:function(t,e,s){this.over?s():(this.$confirm("没做完就退出吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnHashChange:!1,type:"warning"}).then(function(){s()}).catch(function(){s(!1)}),s(!1))},computed:j({},Object(y["c"])(["acceptedTasks"])),mounted:function(){this.getInit(),window.addEventListener("resize",function(){"INPUT"!=document.activeElement.tagName&&"TEXTAREA"!=document.activeElement.tagName||window.setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0)})},methods:j({getLevenshtein:function(t){var e=this,s=_.trim(t);""!=this.mainSentence&&""!=s?Object(w["a"])({url:"Helper/ComputedEditDistanceSimilarity",method:"post",data:{source:this.mainSentence,target:s}}).then(function(t){e.looklike=(100*t.data).toFixed(0)}).catch(function(t){e.looklike=0}):this.looklike=0},getInit:function(){var t=this;this.saveAndGet({target:0,taskId:this.rid,data:{id:this.id,childSentence:this.childSentence,tag:"",smoothness:0}}).then(function(e){t.id=e.id,t.mainSentence=e.mainSentence,t.childSentence=e.childSentence,t.taskType=1,t.isFirst=e.isFirst,t.isLast=e.isLast,t.position=e.position,t.allCount=e.allCount,t.Smoothness=e.smoothness||0,t.tag=e.tag,t.looklike=0,t.getLevenshtein(e.childSentence||""),t.doList=_.map(_.range(e.allCount),function(t){return!1})},function(e){t.$message("获取数据出错，请重试")})},submit:function(){var t=this;this.submitTask({taskId:this.rid}).then(function(){t.over=!0,t.$message.success("恭喜完成任务"),t.$router.push("/home")})},getNext:function(t){var e=this;this.sub=!0,this.loading=!0,0!==this.Smoothness?(this.tag=t,this.saveAndGet({target:0,taskId:this.rid,data:{id:this.id,childSentence:this.childSentence,tag:t,smoothness:this.Smoothness}}).then(function(t){e.sub=!1,e.loading=!1,_.isNull(t)||(e.id=t.id,e.mainSentence=t.mainSentence,e.childSentence=t.childSentence,e.taskType=1,e.isFirst=t.isFirst,e.isLast=t.isLast,e.position=t.position,e.allCount=t.allCount,e.tag=t.tag,e.Smoothness=t.smoothness||0,e.getLevenshtein(""|t.childSentence),e.doList[t.allCount-2]&&!e.doList[t.allCount-1]?e.doList[t.allCount-1]=!0:e.doList[t.position-2]=!0,t.isLast&&e.doList[t.position-1]&&(e.sub=!0,e.loading=!0,e.submitTask({taskId:e.rid}).then(function(){e.sub=!1,e.loading=!1,e.$message.success("恭喜完成任务"),e.over=!0,e.$router.push("/home")})))},function(t){e.sub=!1,e.loading=!1,e.$message("保存出错，请重试")})):this.$message("请选择通顺度评分")},getPrev:function(){var t=this;this.sub=!0,this.loading=!0,this.saveAndGet({target:-1,taskId:this.rid,data:{id:this.id,childSentence:this.childSentence,tag:"",smoothness:this.Smoothness}}).then(function(e){t.sub=!1,t.loading=!1,t.id=e.id,t.mainSentence=e.mainSentence,t.childSentence=e.childSentence,t.taskType=1,t.isFirst=e.isFirst,t.isLast=e.isLast,t.position=e.position,t.allCount=e.allCount,t.tag=e.tag,t.Smoothness=e.smoothness||0,t.doList[e.position-1]=!1,t.getLevenshtein(e.childSentence||"")},function(e){t.sub=!1,t.loading=!1,t.$message("保存出错，请重试")})}},Object(y["b"])(["saveAndGet","submitTask"]))},T=O,P=(s("2051"),s("ef4b"),s("2877")),E=Object(P["a"])(T,n,i,!1,null,"4a220c96",null);e["default"]=E.exports},f2b9:function(t,e,s){}}]);
//# sourceMappingURL=Pingjia.0d830247.js.map