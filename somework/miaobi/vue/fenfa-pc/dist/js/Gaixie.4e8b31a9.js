(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Gaixie"],{"02bd":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"jz-box"},[n("el-row",[n("el-row",[n("el-col",{staticClass:"juzi-title",attrs:{span:6,offset:2}},[n("div",[t._v("句子对改写任务"+t._s(t.position)+"/"+t._s(t.allCount))])]),n("el-col",{staticStyle:{"text-aling":"right"},attrs:{span:14}},[n("div",{staticClass:"btn-box"},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"},{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading_box"},[t._v("正在提交...")]),t.isFirst?t._e():n("button",{staticClass:"prev",attrs:{disabled:t.sub},on:{click:t.getPrev}},[t._v("上一个")]),7==t.taskGroupStatus?n("button",{staticClass:"next",attrs:{disabled:t.sub},on:{click:function(e){return t.getNext("正确")}}},[t._v("正确")]):t._e(),7==t.taskGroupStatus?n("button",{staticClass:"next",attrs:{disabled:t.sub},on:{click:function(e){return t.getNext("错误")}}},[t._v("错误")]):t._e(),7!==t.taskGroupStatus?n("button",{staticClass:"next",attrs:{disabled:t.sub},on:{click:function(e){return t.getNext("正确")}}},[t._v("改好了")]):t._e(),7!==t.taskGroupStatus?n("button",{staticClass:"next",attrs:{disabled:t.sub},on:{click:function(e){return t.getNext("错误")}}},[t._v("改不了")]):t._e()])])],1),n("el-col",{staticClass:"juzi-content",attrs:{span:20,offset:2}},[n("el-row",[n("el-col",{staticClass:"juzi-zhuanxie",attrs:{span:12}},[n("div",{staticClass:"zxjz-box"},[n("div",{staticClass:"home-title2"},[t._v("\n                            原句\n                            "),n("span",{staticClass:"fr"},[t._v(t._s(t.mainSentence.length)+"字")])]),n("div",{staticClass:"yuanju-text"},[t._v("\n                            "+t._s(t.mainSentence)+"\n                        ")])])]),n("el-col",{staticClass:"juzi-zhuanxie",attrs:{span:12}},[n("div",{staticClass:"gaixie-box "},[n("div",{staticClass:"home-title2"},[t._v("\n                            改写\n                            "),n("span",{staticClass:"fr"},[t._v(t._s(t.childSentence.length)+"字")])]),n("div",{staticClass:"yuanju-text gaixie-text"},[n("el-input",{staticClass:"zhuanxie-input",attrs:{type:"textarea",rows:7,placeholder:"在此输入改写后的句子",readOnly:7===t.taskGroupStatus},on:{input:t.getLevenshtein},model:{value:t.childSentence,callback:function(e){t.childSentence=e},expression:"childSentence"}})],1),n("div",{staticClass:"looklike-box"},[n("span",{staticClass:"looklike fr"},[t._v("相似度："+t._s(t.looklike)+"%")]),t.looklike>60?n("span",{staticClass:"looklike_ts fl"},[t._v("相似度大于60%，不计费。")]):t._e(),0==t.childSentence.trim().length?n("span",{staticClass:"looklike_ts fl"},[t._v("字数为0，不计费。")]):t._e()])])])],1)],1)],1)],1)},i=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("673e"),n("bd86")),o=(n("be4f"),n("450d"),n("896a")),c=n.n(o),l=(n("9d4c"),n("e450")),u=n.n(l),r=(n("10cb"),n("f3ad")),d=n.n(r),h=(n("7a0f"),n("0f6c")),f=n.n(h),p=(n("f4f9"),n("c2cc")),b=n.n(p),v=n("2b0e"),g=n("b775"),m=n("2f62"),k=n("8423");n("c67a");function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,s)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}v["default"].use(b.a),v["default"].use(f.a),v["default"].use(d.a),v["default"].use(u.a),v["default"].use(c.a);var x={name:"Gaixie",props:["rid"],data:function(){return{position:0,allCount:0,id:0,mainSentence:"",childSentence:"",isFirst:!0,isLast:!1,show:!0,looklike:0,over:!1,doList:[],taskGroupStatus:0,fullscreenLoading:!1,sub:!1,loading:!1}},mixins:[k["a"]],computed:C({},Object(m["c"])(["acceptedTasks"])),beforeRouteLeave:function(t,e,n){console.log("leave",t,e),this.over?n():(this.$confirm("没做完就退出吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnHashChange:!1,type:"warning"}).then(function(){n()}).catch(function(){n(!1)}),n(!1))},mounted:function(){this.getInit(),window.addEventListener("resize",function(){"INPUT"!=document.activeElement.tagName&&"TEXTAREA"!=document.activeElement.tagName||window.setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0)})},methods:C({getLevenshtein:function(t){var e=this,n=_.trim(t);""!=this.mainSentence&&""!=n?Object(g["a"])({url:"Helper/ComputedEditDistanceSimilarity",method:"post",data:{source:this.mainSentence,target:n}}).then(function(t){e.looklike=(100*t.data).toFixed(0)}).catch(function(t){e.looklike=0}):this.looklike=0},getInit:function(){var t=this;this.saveAndGet({target:0,taskId:this.rid,data:{id:this.id,childSentence:this.childSentence}}).then(function(e){t.id=e.id,t.mainSentence=e.mainSentence,t.childSentence=e.childSentence||"",t.isFirst=e.isFirst,t.isLast=e.isLast,t.position=e.position,t.allCount=e.allCount,t.looklike=0,t.taskGroupStatus=e.taskGroupStatus,t.doList=_.map(_.range(e.allCount),function(t){return!1}),t.getLevenshtein(e.childSentence||"")},function(e){console.log(t),t.$router.push("/home"),t.$message("获取数据出错，请刷新页面")})},submit:function(){var t=this;this.submitTask({taskId:this.rid}).then(function(){t.$message.success("恭喜完成任务"),t.over=!0,t.$router.push("/home")})},getNext:function(t){var e=this;this.sub=!0,this.loading=!0,console.log(this.sub),this.saveAndGet({target:0,taskId:this.rid,data:{id:this.id,childSentence:this.childSentence,tag:t}}).then(function(t){e.sub=!1,e.loading=!1,_.isNull(t)||(e.id=t.id,e.mainSentence=t.mainSentence,e.childSentence=t.childSentence||"",e.isFirst=t.isFirst,e.isLast=t.isLast,e.position=t.position,e.allCount=t.allCount,e.taskGroupStatus=t.taskGroupStatus,e.getLevenshtein(t.childSentence||""),e.doList[t.allCount-2]&&!e.doList[t.allCount-1]?e.doList[t.allCount-1]=!0:e.doList[t.position-2]=!0,t.isLast&&e.doList[t.position-1]&&(e.sub=!0,e.loading=!0,e.submitTask({taskId:e.rid}).then(function(){e.sub=!1,e.loading=!1,e.$message.success("恭喜完成任务"),e.over=!0,e.$router.push("/home")})))},function(t){e.sub=!1,e.loading=!1,e.$message("保存出错，请重试")})},getPrev:function(){var t=this;this.sub=!0,this.loading=!0,this.saveAndGet({target:-1,taskId:this.rid,data:{id:this.id}}).then(function(e){t.sub=!1,t.loading=!1,t.id=e.id,t.mainSentence=e.mainSentence,t.childSentence=e.childSentence,t.isFirst=e.isFirst,t.isLast=e.isLast,t.position=e.position,t.allCount=e.allCount,t.taskGroupStatus=e.taskGroupStatus,t.getLevenshtein(e.childSentence||""),t.doList[e.position-1]=!1}).catch(function(){t.sub=!1,t.loading=!1,t.$message("出错，请重试")})}},Object(m["b"])(["saveAndGet","submitTask"]))},w=x,L=(n("0728"),n("94f5"),n("2877")),j=Object(L["a"])(w,s,i,!1,null,"19d6e7b8",null);e["default"]=j.exports},"0728":function(t,e,n){"use strict";var s=n("9d6a"),i=n.n(s);i.a},"386b":function(t,e,n){var s=n("5ca1"),i=n("79e5"),a=n("be13"),o=/"/g,c=function(t,e,n,s){var i=String(a(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+String(s).replace(o,"&quot;")+'"'),c+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(c),s(s.P+s.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},"673e":function(t,e,n){"use strict";n("386b")("sub",function(t){return function(){return t(this,"sub","","")}})},"94f5":function(t,e,n){"use strict";var s=n("b451"),i=n.n(s);i.a},"9d6a":function(t,e,n){},b451:function(t,e,n){}}]);
//# sourceMappingURL=Gaixie.4e8b31a9.js.map