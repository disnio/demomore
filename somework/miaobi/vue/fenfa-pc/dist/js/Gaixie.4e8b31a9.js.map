{"version":3,"sources":["webpack:///./src/views/Mission/Gaixie.vue?9e2e","webpack:///src/views/Mission/Gaixie.vue","webpack:///./src/views/Mission/Gaixie.vue?e095","webpack:///./src/views/Mission/Gaixie.vue?dc13","webpack:///./src/views/Mission/Gaixie.vue?0d78","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/core-js/modules/es6.string.sub.js","webpack:///./src/views/Mission/Gaixie.vue?ed4c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","position","allCount","staticStyle","directives","name","rawName","value","expression","isFirst","_e","sub","on","getPrev","taskGroupStatus","$event","getNext","mainSentence","length","childSentence","getLevenshtein","model","callback","$$v","looklike","trim","staticRenderFns","component","$export","fails","defined","quot","createHTML","string","tag","attribute","S","String","p1","replace","module","exports","NAME","exec","O","P","F","test","toLowerCase","split"],"mappings":"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","file":"js/Gaixie.4e8b31a9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"jz-box\"},[_c('el-row',[_c('el-row',[_c('el-col',{staticClass:\"juzi-title\",attrs:{\"span\":6,\"offset\":2}},[_c('div',[_vm._v(\"句子对改写任务\"+_vm._s(_vm.position)+\"/\"+_vm._s(_vm.allCount))])]),_c('el-col',{staticStyle:{\"text-aling\":\"right\"},attrs:{\"span\":14}},[_c('div',{staticClass:\"btn-box\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"},{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"loading_box\"},[_vm._v(\"正在提交...\")]),(!_vm.isFirst)?_c('button',{staticClass:\"prev\",attrs:{\"disabled\":_vm.sub},on:{\"click\":_vm.getPrev}},[_vm._v(\"上一个\")]):_vm._e(),(_vm.taskGroupStatus==7)?_c('button',{staticClass:\"next\",attrs:{\"disabled\":_vm.sub},on:{\"click\":function($event){return _vm.getNext('正确')}}},[_vm._v(\"正确\")]):_vm._e(),(_vm.taskGroupStatus==7)?_c('button',{staticClass:\"next\",attrs:{\"disabled\":_vm.sub},on:{\"click\":function($event){return _vm.getNext('错误')}}},[_vm._v(\"错误\")]):_vm._e(),(_vm.taskGroupStatus!==7)?_c('button',{staticClass:\"next\",attrs:{\"disabled\":_vm.sub},on:{\"click\":function($event){return _vm.getNext('正确')}}},[_vm._v(\"改好了\")]):_vm._e(),(_vm.taskGroupStatus!==7)?_c('button',{staticClass:\"next\",attrs:{\"disabled\":_vm.sub},on:{\"click\":function($event){return _vm.getNext('错误')}}},[_vm._v(\"改不了\")]):_vm._e()])])],1),_c('el-col',{staticClass:\"juzi-content\",attrs:{\"span\":20,\"offset\":2}},[_c('el-row',[_c('el-col',{staticClass:\"juzi-zhuanxie\",attrs:{\"span\":12}},[_c('div',{staticClass:\"zxjz-box\"},[_c('div',{staticClass:\"home-title2\"},[_vm._v(\"\\n                            原句\\n                            \"),_c('span',{staticClass:\"fr\"},[_vm._v(_vm._s(_vm.mainSentence.length)+\"字\")])]),_c('div',{staticClass:\"yuanju-text\"},[_vm._v(\"\\n                            \"+_vm._s(_vm.mainSentence)+\"\\n                        \")])])]),_c('el-col',{staticClass:\"juzi-zhuanxie\",attrs:{\"span\":12}},[_c('div',{staticClass:\"gaixie-box \"},[_c('div',{staticClass:\"home-title2\"},[_vm._v(\"\\n                            改写\\n                            \"),_c('span',{staticClass:\"fr\"},[_vm._v(_vm._s(_vm.childSentence.length)+\"字\")])]),_c('div',{staticClass:\"yuanju-text gaixie-text\"},[_c('el-input',{staticClass:\"zhuanxie-input\",attrs:{\"type\":\"textarea\",\"rows\":7,\"placeholder\":\"在此输入改写后的句子\",\"readOnly\":_vm.taskGroupStatus!==7 ? false : true},on:{\"input\":_vm.getLevenshtein},model:{value:(_vm.childSentence),callback:function ($$v) {_vm.childSentence=$$v},expression:\"childSentence\"}})],1),_c('div',{staticClass:\"looklike-box\"},[_c('span',{staticClass:\"looklike fr\"},[_vm._v(\"相似度：\"+_vm._s(_vm.looklike)+\"%\")]),(_vm.looklike > 60)?_c('span',{staticClass:\"looklike_ts fl\"},[_vm._v(\"相似度大于60%，不计费。\")]):_vm._e(),(_vm.childSentence.trim().length == 0)?_c('span',{staticClass:\"looklike_ts fl\"},[_vm._v(\"字数为0，不计费。\")]):_vm._e()])])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"jz-box\">\r\n        <el-row>\r\n            <el-row>\r\n                <el-col :span=\"6\" :offset=\"2\" class=\"juzi-title\">\r\n                    <div>句子对改写任务{{position}}/{{allCount}}</div>\r\n                </el-col>\r\n                <el-col :span=\"14\" style=\"text-aling:right;\">\r\n                    <div class=\"btn-box\">\r\n                        <div v-loading=\"loading\" class=\"loading_box\" v-show=\"loading\">正在提交...</div>\r\n                        <button class=\"prev\"\r\n                        :disabled=\"sub\"\r\n                        @click=\"getPrev\" \r\n                        v-if=\"!isFirst\">上一个</button>\r\n                        <button class=\"next\" \r\n                        :disabled=\"sub\"\r\n                         @click=\"getNext('正确')\"\r\n                         v-if=\"taskGroupStatus==7\">正确</button>\r\n                        <button class=\"next\" \r\n                        :disabled=\"sub\"\r\n                         @click=\"getNext('错误')\"\r\n                         v-if=\"taskGroupStatus==7\">错误</button>\r\n                        <button class=\"next\" \r\n                        :disabled=\"sub\"\r\n                         @click=\"getNext('正确')\"\r\n                         v-if=\"taskGroupStatus!==7\">改好了</button>\r\n                        <button class=\"next\" \r\n                        :disabled=\"sub\"\r\n                         @click=\"getNext('错误')\"\r\n                         v-if=\"taskGroupStatus!==7\">改不了</button>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n            <el-col :span=\"20\" :offset=\"2\" class=\"juzi-content\">\r\n                <el-row>\r\n                    <el-col :span=\"12\" class=\"juzi-zhuanxie\">\r\n                        <div class=\"zxjz-box\">\r\n                            <div class=\"home-title2\">\r\n                                原句\r\n                                <span class=\"fr\">{{mainSentence.length}}字</span>\r\n                            </div>\r\n                            <div class=\"yuanju-text\">\r\n                                {{mainSentence}}\r\n                            </div>\r\n\r\n                        </div>\r\n                    </el-col>\r\n                    <el-col :span=\"12\" class=\"juzi-zhuanxie\">\r\n                        <div class=\"gaixie-box \">\r\n                            <div class=\"home-title2\">\r\n                                改写\r\n                                <span class=\"fr\">{{childSentence.length}}字</span>\r\n                            </div>\r\n                            <div class=\"yuanju-text gaixie-text\">\r\n                                <el-input\r\n                                        type=\"textarea\"\r\n                                        :rows=\"7\"\r\n                                        placeholder=\"在此输入改写后的句子\"\r\n                                        v-model=\"childSentence\"\r\n                                        @input=\"getLevenshtein\"\r\n                                        class=\"zhuanxie-input\"\r\n                                        :readOnly=\"taskGroupStatus!==7 ? false : true\"\r\n                                ></el-input>\r\n                            </div>\r\n                            <div class=\"looklike-box\">\r\n                                <span class=\"looklike fr\">相似度：{{looklike}}%</span>\r\n                                <span v-if=\"looklike > 60\" class=\"looklike_ts fl\">相似度大于60%，不计费。</span>\r\n                                <span v-if=\"childSentence.trim().length == 0\" class=\"looklike_ts fl\">字数为0，不计费。</span>\r\n                            </div>\r\n                        </div>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-col>\r\n\r\n        </el-row>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Vue from \"vue\"\r\n    import service from \"@/utils/request\";\r\n    import {mapActions, mapGetters} from \"vuex\";\r\n    import {exitPopupMixin} from '@/mixin/exitPopup';\r\n    import \"@/scss/common.scss\";\r\n    import {Col, Row, Input, InputNumber, Loading} from \"element-ui\";\r\n    // import levenshtein from \"levenshtein-edit-distance\";\r\n\r\n    Vue.use(Col);\r\n    Vue.use(Row);\r\n    Vue.use(Input);\r\n    Vue.use(InputNumber);\r\n    Vue.use(Loading);\r\n\r\n    export default {\r\n        name: \"Gaixie\",\r\n        props: [\"rid\"],\r\n        data() {\r\n            return {\r\n                position: 0,\r\n                allCount: 0,\r\n                id: 0,\r\n                mainSentence: \"\",\r\n                childSentence: \"\",\r\n                isFirst: true,\r\n                isLast: false,\r\n                show: true,\r\n                looklike: 0,\r\n                over: false,\r\n                doList: [],\r\n                taskGroupStatus: 0,\r\n                fullscreenLoading: false,\r\n                sub: false,\r\n                loading: false\r\n            }\r\n        },\r\n        mixins: [exitPopupMixin],\r\n\r\n        computed: {\r\n            ...mapGetters([\"acceptedTasks\"]),\r\n        },\r\n        beforeRouteLeave(to, from, next) {\r\n            console.log(\"leave\", to, from)\r\n            if (!this.over) {\r\n                this.$confirm(\"没做完就退出吗？\", '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    closeOnHashChange: false,\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    next()\r\n                }).catch(() => {\r\n                    next(false)\r\n                });\r\n\r\n                next(false)\r\n            } else {\r\n                next()\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getInit();\r\n\r\n            // if (/Android/gi.test(navigator.userAgent)) {\r\n            window.addEventListener('resize', function () {\r\n                if (document.activeElement.tagName == 'INPUT' || document.activeElement.tagName == 'TEXTAREA') {\r\n                    window.setTimeout(function () {\r\n                        document.activeElement.scrollIntoViewIfNeeded();\r\n                    }, 0);\r\n                }\r\n            })\r\n            // }\r\n        },\r\n\r\n        methods: {\r\n\r\n            getLevenshtein(v) {\r\n                let vv = _.trim(v);\r\n                if (this.mainSentence != \"\" && vv != \"\") {\r\n                    service({\r\n                        url: 'Helper/ComputedEditDistanceSimilarity',\r\n                        method: 'post',\r\n                        data: {\r\n                            \"source\": this.mainSentence,\r\n                            \"target\": vv,\r\n                        }\r\n                    }).then(res => {\r\n                        this.looklike = (res.data * 100).toFixed(0)\r\n                    }).catch(err => {\r\n                        this.looklike = 0;\r\n                    });\r\n                } else {\r\n                    this.looklike = 0;\r\n                }\r\n            },\r\n            getInit() {\r\n                this.saveAndGet({\r\n                    \"target\": 0,\r\n                    \"taskId\": this.rid,\r\n                    \"data\": {\r\n                        \"id\": this.id,\r\n                        \"childSentence\": this.childSentence,\r\n\r\n                    }\r\n                }).then(res => {\r\n                    this.id = res.id;\r\n                    this.mainSentence = res.mainSentence;\r\n                    this.childSentence = res.childSentence || \"\";\r\n                    this.isFirst = res.isFirst;\r\n                    this.isLast = res.isLast;\r\n                    this.position = res.position;\r\n                    this.allCount = res.allCount;\r\n                    this.looklike = 0;\r\n                    this.taskGroupStatus = res.taskGroupStatus;\r\n\r\n                    this.doList = _.map(_.range(res.allCount), (v) => {\r\n                        return false;\r\n                    });\r\n\r\n                    this.getLevenshtein(res.childSentence || \"\")\r\n                }, err => {\r\n                    console.log(this)\r\n                    this.$router.push(\"/home\")\r\n                    this.$message(\"获取数据出错，请刷新页面\")\r\n                })\r\n            },\r\n\r\n            submit() {\r\n                //   if (res.isLast && this.doList[res.position - 1]) {\r\n                this.submitTask({taskId: this.rid}).then(() => {\r\n                    this.$message.success(\"恭喜完成任务\");\r\n                    this.over = true;\r\n                    this.$router.push(\"/home\")\r\n                })\r\n                // }\r\n            },\r\n\r\n            getNext(tag) {\r\n                this.sub = true;\r\n                this.loading = true;\r\n                console.log(this.sub);\r\n                this.saveAndGet({\r\n                    \"target\": 0,\r\n                    \"taskId\": this.rid,\r\n                    \"data\": {\r\n                        \"id\": this.id,\r\n                        \"childSentence\": this.childSentence,\r\n                        \"tag\": tag\r\n                    }\r\n                }).then(res => {\r\n                    this.sub = false;\r\n                    this.loading = false;\r\n                    if (!_.isNull(res)) {\r\n                        this.id = res.id;\r\n                        this.mainSentence = res.mainSentence;\r\n                        this.childSentence = res.childSentence || \"\";\r\n                        this.isFirst = res.isFirst;\r\n                        this.isLast = res.isLast;\r\n                        this.position = res.position;\r\n                        this.allCount = res.allCount;\r\n                        this.taskGroupStatus = res.taskGroupStatus;\r\n                        this.getLevenshtein(res.childSentence || \"\")\r\n\r\n                        if (this.doList[res.allCount - 2] && !this.doList[res.allCount - 1]) {\r\n                            this.doList[res.allCount - 1] = true;\r\n                        } else {\r\n                            this.doList[res.position - 2] = true;\r\n                        }\r\n\r\n                        // res.childSentence && res.childSentence.length > 0 &&\r\n                        if (res.isLast && this.doList[res.position - 1]) {\r\n                            this.sub = true;\r\n                            this.loading = true;\r\n                            this.submitTask({taskId: this.rid}).then(() => {\r\n                                this.sub = false;\r\n                                this.loading = false;\r\n                                this.$message.success(\"恭喜完成任务\");\r\n                                this.over = true;\r\n                                this.$router.push(\"/home\")\r\n                            })\r\n                        }\r\n                    }\r\n\r\n                }, err => {\r\n                    this.sub = false;\r\n                    this.loading = false;\r\n                    this.$message(\"保存出错，请重试\")\r\n                })\r\n            },\r\n\r\n            getPrev() {\r\n                this.sub = true;\r\n                this.loading = true;\r\n                this.saveAndGet({\r\n                    \"target\": -1,\r\n                    \"taskId\": this.rid,\r\n                    \"data\": {\r\n                        \"id\": this.id,\r\n                        // \"childSentence\": \"\",\r\n                    }\r\n                }).then(res => {\r\n                    this.sub = false;\r\n                    this.loading = false;\r\n                    this.id = res.id;\r\n                    this.mainSentence = res.mainSentence;\r\n                    this.childSentence = res.childSentence;\r\n                    this.isFirst = res.isFirst;\r\n                    this.isLast = res.isLast;\r\n                    this.position = res.position;\r\n                    this.allCount = res.allCount;\r\n                    this.taskGroupStatus = res.taskGroupStatus;\r\n                    this.getLevenshtein(res.childSentence || \"\")\r\n                    this.doList[res.position - 1] = false;\r\n                }).catch(() => {\r\n                    this.sub = false;\r\n                    this.loading = false;\r\n                    this.$message(\"出错，请重试\")\r\n                })\r\n            },\r\n            ...mapActions([\"saveAndGet\", \"submitTask\"])\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.loading_box {\r\n    float: left;\r\n    margin-top: 13px;\r\n    font-size: 14px;\r\n}\r\n.loading_box .el-loading-mask {\r\n    background: none;\r\n}\r\n.loading_box .el-loading-spinner {\r\n    left: -45px;\r\n    margin-top: -15px;\r\n}\r\n.loading_box .el-loading-spinner .circular {\r\n  height: 28px;\r\n}\r\n\r\n    .el-loading-mask.is-fullscreen .el-loading-spinner .circular {\r\n        height: 0;\r\n    }\r\n    // .looklike {\r\n    //     text-align: right;\r\n    //     font-size: 14px;\r\n    //     color: rgba(75, 78, 95, 1);\r\n    //     margin-top: 5px;\r\n    // }\r\n    .looklike-box {\r\n        height: 20px;\r\n        margin: 10px 5px 20px;\r\n        \r\n    }\r\n\r\n    .looklike, .looklike_ts {\r\n        text-align: right;\r\n        font-size: 14px;\r\n        color: rgba(75, 78, 95, 1);\r\n\r\n    }\r\n\r\n    .looklike_ts {\r\n        margin-right: 30px;\r\n        color: red;\r\n    }\r\n\r\n    .juzi-title {\r\n        height: 100px;\r\n        line-height: 100px;\r\n        text-align: left;\r\n        font-size: 30px;\r\n        color: rgba(75, 78, 95, 1);\r\n    }\r\n\r\n    .juzi-content {\r\n        height: 80vh;\r\n        background: rgba(255, 255, 255, 1);\r\n        box-shadow: 0px 10px 20px 0px rgba(54, 107, 213, 0.1);\r\n        border-radius: 6px;\r\n        padding: 30px 45px 50px;\r\n\r\n        .home-title2 {\r\n            font-size: 30px;\r\n        }\r\n\r\n        .yuanju-text {\r\n            font-size: 18px;\r\n            line-height: 20px;\r\n        }\r\n    }\r\n\r\n    .juzi-zhuanxie {\r\n        // background: pink;\r\n        height: 400px;\r\n    }\r\n\r\n    .zhuanxie-input {\r\n        .el-textarea__inner {\r\n            resize: none;\r\n            height: 325px;\r\n            font-size: 18px;\r\n        }\r\n    }\r\n\r\n    // ---------------------------------------\r\n    .tongyi-top {\r\n        background: none !important;\r\n    }\r\n\r\n    .van-hairline--bottom:after {\r\n        border: none !important;\r\n    }\r\n\r\n    .end-btn {\r\n        background: none;\r\n        color: #4b4e5f;\r\n        border: 1px solid #bfbfbf;\r\n    }\r\n\r\n\r\n    .van-cell-group {\r\n        background: none;\r\n        height: 100% !important;\r\n\r\n        .van-cell {\r\n            margin: 0 !important;\r\n\r\n            .van-cell-group {\r\n                background: none;\r\n                height: 100% !important;\r\n\r\n                .van-cell {\r\n                    background: none;\r\n                    height: 100% !important;\r\n                    padding: 0 !important;\r\n                }\r\n\r\n                .van-cell__value--alone {\r\n                    font-size: 16px !important;\r\n                    color: #21232D !important;\r\n                }\r\n\r\n                .van-field__body {\r\n                    height: 135px !important;\r\n                }\r\n\r\n                .van-field__control {\r\n                    height: 100% !important;\r\n                    color: #21232D !important;\r\n                }\r\n\r\n                .van-field__control {\r\n                    padding-top: 10px !important;\r\n                }\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .btn-box {\r\n        width: 60%;\r\n        height: 44px;\r\n        float: right;\r\n        padding: 0;\r\n        text-align: right;\r\n        margin: 24px 0 40px 0 !important;\r\n\r\n        .prev {\r\n            width: 16%;\r\n            height: 100%;\r\n            color: #525254;\r\n\r\n        }\r\n\r\n        .next {\r\n            width: 25%;\r\n            height: 100%;\r\n            background: linear-gradient(0deg, #FF9B02, #FFC801);\r\n            border-radius: 22px;\r\n            font-size: 16px;\r\n            color: #fff;\r\n            margin-right: 10px;\r\n        }\r\n    }\r\n\r\n    .jz-box {\r\n        width: 100%;\r\n        /*overflow: hidden;*/\r\n    }\r\n\r\n    .zxjz-box {\r\n        width: 100%;\r\n        height: 400px;\r\n        padding: 0 20px 20px;\r\n        border-top: 1px solid transparent;\r\n    }\r\n\r\n    .gaixie-box {\r\n        height: 100%;\r\n        padding: 0 20px 20px;\r\n    }\r\n\r\n    .yuanju-text {\r\n        width: 100%;\r\n        height: 85%;\r\n        text-align: left;\r\n        font-size: 16px;\r\n        color: #8C8B90;\r\n    }\r\n\r\n    .gaixie-text {\r\n        width: 100%;\r\n        height: 85%;\r\n        padding: 0 !important;\r\n        resize: none;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gaixie.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gaixie.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Gaixie.vue?vue&type=template&id=19d6e7b8&scoped=true&\"\nimport script from \"./Gaixie.vue?vue&type=script&lang=js&\"\nexport * from \"./Gaixie.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Gaixie.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./Gaixie.vue?vue&type=style&index=1&id=19d6e7b8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19d6e7b8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gaixie.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gaixie.vue?vue&type=style&index=0&lang=scss&\"","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gaixie.vue?vue&type=style&index=1&id=19d6e7b8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gaixie.vue?vue&type=style&index=1&id=19d6e7b8&lang=scss&scoped=true&\""],"sourceRoot":""}